'use strict';function l(a){throw a;}var o=void 0,q=!0,r=null,v=!1;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var x,y=this;function ga(a){for(var a=a.split("."),c=y,b;b=a.shift();)if(c[b]!=r)c=c[b];else return r;return c}function ha(){}
function ia(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function ja(a){return a!==o}function ka(a){return"array"==ia(a)}function la(a){var c=ia(a);return"array"==c||"object"==c&&"number"==typeof a.length}function z(a){return"string"==typeof a}function ma(a){return"number"==typeof a}function na(a){return"function"==ia(a)}function oa(a){var c=typeof a;return"object"==c&&a!=r||"function"==c}function pa(a){return a[qa]||(a[qa]=++ra)}
var qa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ra=0;function sa(a,c,b){return a.call.apply(a.bind,arguments)}function ua(a,c,b){a||l(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}
function va(a,c,b){va=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ua;return va.apply(r,arguments)}function wa(a,c){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var xa=Date.now||function(){return+new Date};function A(a,c){function b(){}b.prototype=c.prototype;a.cb=c.prototype;a.prototype=new b};function ya(a){Error.captureStackTrace?Error.captureStackTrace(this,ya):this.stack=Error().stack||"";a&&(this.message=""+a)}A(ya,Error);ya.prototype.name="CustomError";function za(a,c){for(var b=1;b<arguments.length;b++)var d=(""+arguments[b]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ca(a){if(!Da.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ea,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Fa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ga,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ha,"&quot;"));return a}var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;function Ia(a){return(""+a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})};function Ja(a,c){c.unshift(a);ya.call(this,za.apply(r,c));c.shift()}A(Ja,ya);Ja.prototype.name="AssertionError";function Ka(a,c){l(new Ja("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};function B(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function La(a,c){for(var b in a)if(!c.call(o,a[b],b,a))return v;return q}function Ma(a){var c=0,b;for(b in a)c++;return c}function Na(a){for(var c in a)delete a[c]}var Oa="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function Pa(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<Oa.length;f++)b=Oa[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}}function Qa(a){var c=arguments.length;if(1==c&&ka(arguments[0]))return Qa.apply(r,arguments[0]);for(var b={},d=0;d<c;d++)b[arguments[d]]=q;return b};var Ra,Sa,Ta,Ua,Va;function Wa(){return y.navigator?y.navigator.userAgent:r}Ua=Ta=Sa=Ra=v;var Xa;if(Xa=Wa()){var Ya=y.navigator;Ra=0==Xa.indexOf("Opera");Sa=!Ra&&-1!=Xa.indexOf("MSIE");Ta=!Ra&&-1!=Xa.indexOf("WebKit");Ua=!Ra&&!Ta&&"Gecko"==Ya.product}var Za=Ra,E=Sa,I=Ua,$a=Ta,ab,bb=y.navigator;ab=bb&&bb.platform||"";Va=-1!=ab.indexOf("Mac");var cb=-1!=ab.indexOf("Win"),db;
a:{var eb="",fb;if(Za&&y.opera)var gb=y.opera.version,eb="function"==typeof gb?gb():gb;else if(I?fb=/rv\:([^\);]+)(\)|;)/:E?fb=/MSIE\s+([^\);]+)(\)|;)/:$a&&(fb=/WebKit\/(\S+)/),fb)var hb=fb.exec(Wa()),eb=hb?hb[1]:"";if(E){var ib,kb=y.document;ib=kb?kb.documentMode:o;if(ib>parseFloat(eb)){db=""+ib;break a}}db=eb}var lb={};
function J(a){var c;if(!(c=lb[a])){c=0;for(var b=(""+db).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var g=b[f]||"",h=d[f]||"",j=/(\d*)(\D*)/g,i=/(\d*)(\D*)/g;do{var k=j.exec(g)||["","",""],m=i.exec(h)||["","",""];if(0==k[0].length&&0==m[0].length)break;c=((0==k[1].length?0:parseInt(k[1],10))<(0==m[1].length?0:parseInt(m[1],10))?-1:(0==k[1].length?0:parseInt(k[1],10))>(0==m[1].length?0:parseInt(m[1],
10))?1:0)||((0==k[2].length)<(0==m[2].length)?-1:(0==k[2].length)>(0==m[2].length)?1:0)||(k[2]<m[2]?-1:k[2]>m[2]?1:0)}while(0==c)}c=lb[a]=0<=c}return c}var mb={};function nb(){return mb[9]||(mb[9]=E&&!!document.documentMode&&9<=document.documentMode)};function ob(){}var pb=0;x=ob.prototype;x.key=0;x.Nb=v;x.me=v;x.Cc=function(a,c,b,d,e,f){na(a)?this.xe=q:a&&a.handleEvent&&na(a.handleEvent)?this.xe=v:l(Error("Invalid listener argument"));this.bc=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.Ad=f;this.me=v;this.key=++pb;this.Nb=v};x.handleEvent=function(a){return this.xe?this.bc.call(this.Ad||this.src,a):this.bc.handleEvent.call(this.bc,a)};!E||nb();var qb=!E||nb(),rb=E&&!J("8");!$a||J("528");I&&J("1.9b")||E&&J("8")||Za&&J("9.5")||$a&&J("528");I&&!J("8")||E&&J("9");var K=Array.prototype,sb=K.indexOf?function(a,c,b){return K.indexOf.call(a,c,b)}:function(a,c,b){b=b==r?0:0>b?Math.max(0,a.length+b):b;if(z(a))return!z(c)||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},L=K.forEach?function(a,c,b){K.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};function tb(a){if(!ka(a))for(var c=a.length-1;0<=c;c--)delete a[c];a.length=0}
function ub(a,c){var b=sb(a,c);0<=b&&K.splice.call(a,b,1)}function vb(a,c){var b;a:{b=a.length;for(var d=z(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(o,d[e],e,a)){b=e;break a}b=-1}return 0<=b?(K.splice.call(a,b,1),q):v}function wb(a){return K.concat.apply(K,arguments)}function xb(a){if(ka(a))return wb(a);for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}function yb(a,c,b){return 2>=arguments.length?K.slice.call(a,c):K.slice.call(a,c,b)}function zb(a,c){return a>c?1:a<c?-1:0};function Ab(){}Ab.prototype.Ac=v;Ab.prototype.Va=function(){this.Ac||(this.Ac=q,this.la())};Ab.prototype.la=function(){this.Ef&&Bb.apply(r,this.Ef)};function Bb(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c];la(d)?Bb.apply(r,d):d&&"function"==typeof d.Va&&d.Va()}};function N(a,c){this.type=a;this.currentTarget=this.target=c}A(N,Ab);x=N.prototype;x.la=function(){delete this.type;delete this.target;delete this.currentTarget};x.qb=v;x.defaultPrevented=v;x.bd=q;x.stopPropagation=function(){this.qb=q};x.preventDefault=function(){this.defaultPrevented=q;this.bd=v};function Cb(a){Cb[" "](a);return a}Cb[" "]=ha;function Db(a,c){a&&this.Cc(a,c)}A(Db,N);x=Db.prototype;x.target=r;x.relatedTarget=r;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=v;x.altKey=v;x.shiftKey=v;x.metaKey=v;x.Ab=r;
x.Cc=function(a,c){var b=this.type=a.type;N.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(I){var e;a:{try{Cb(d.nodeName);e=q;break a}catch(f){}e=v}e||(d=r)}}else"mouseover"==b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;this.offsetX=$a||a.offsetX!==o?a.offsetX:a.layerX;this.offsetY=$a||a.offsetY!==o?a.offsetY:a.layerY;this.clientX=a.clientX!==o?a.clientX:a.pageX;this.clientY=a.clientY!==o?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==b?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Ab=a;a.defaultPrevented&&this.preventDefault();delete this.qb};x.stopPropagation=function(){Db.cb.stopPropagation.call(this);this.Ab.stopPropagation?this.Ab.stopPropagation():this.Ab.cancelBubble=q};
x.preventDefault=function(){Db.cb.preventDefault.call(this);var a=this.Ab;if(a.preventDefault)a.preventDefault();else if(a.returnValue=v,rb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};x.la=function(){Db.cb.la.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ab=r};var Eb={},O={},Fb={},Gb={};
function P(a,c,b,d,e){if(c){if(ka(c)){for(var f=0;f<c.length;f++)P(a,c[f],b,d,e);return r}var d=!!d,g=O;c in g||(g[c]={ya:0,xa:0});g=g[c];d in g||(g[d]={ya:0,xa:0},g.ya++);var g=g[d],h=pa(a),j;g.xa++;if(g[h]){j=g[h];for(f=0;f<j.length;f++)if(g=j[f],g.bc==b&&g.Ad==e){if(g.Nb)break;return j[f].key}}else j=g[h]=[],g.ya++;f=Hb();f.src=a;g=new ob;g.Cc(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);Eb[b]=g;Fb[h]||(Fb[h]=[]);Fb[h].push(g);a.addEventListener?(a==y||!a.oe)&&a.addEventListener(c,f,d):a.attachEvent(c in
Gb?Gb[c]:Gb[c]="on"+c,f);return b}l(Error("Invalid event type"))}function Hb(){var a=Ib,c=qb?function(b){return a.call(c.src,c.key,b)}:function(b){b=a.call(c.src,c.key,b);if(!b)return b};return c}function Jb(a,c,b,d,e){if(ka(c)){for(var f=0;f<c.length;f++)Jb(a,c[f],b,d,e);return r}d=!!d;a:{f=O;if(c in f&&(f=f[c],d in f&&(f=f[d],a=pa(a),f[a]))){a=f[a];break a}a=r}if(!a)return v;for(f=0;f<a.length;f++)if(a[f].bc==b&&a[f].capture==d&&a[f].Ad==e)return Kb(a[f].key);return v}
function Kb(a){if(!Eb[a])return v;var c=Eb[a];if(c.Nb)return v;var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==y||!b.oe)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in Gb?Gb[d]:Gb[d]="on"+d,e);b=pa(b);e=O[d][f][b];if(Fb[b]){var g=Fb[b];ub(g,c);0==g.length&&delete Fb[b]}c.Nb=q;e.Re=q;Lb(d,f,b,e);delete Eb[a];return q}
function Lb(a,c,b,d){if(!d.Ic&&d.Re){for(var e=0,f=0;e<d.length;e++)d[e].Nb?d[e].proxy.src=r:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Re=v;0==f&&(delete O[a][c][b],O[a][c].ya--,0==O[a][c].ya&&(delete O[a][c],O[a].ya--),0==O[a].ya&&delete O[a])}}function Mb(a){var c,b=0,d=c==r;c=!!c;if(a==r)B(Fb,function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Kb(f.key),b++}});else if(a=pa(a),Fb[a])for(var a=Fb[a],e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Kb(f.key),b++}}
function Nb(a,c,b,d,e){var f=1,c=pa(c);if(a[c]){a.xa--;a=a[c];a.Ic?a.Ic++:a.Ic=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.Nb&&(f&=Ob(j,e)!==v)}}finally{a.Ic--,Lb(b,d,c,a)}}return Boolean(f)}function Ob(a,c){var b=a.handleEvent(c);a.me&&Kb(a.key);return b}
function Ib(a,c){if(!Eb[a])return q;var b=Eb[a],d=b.type,e=O;if(!(d in e))return q;var e=e[d],f,g;if(!qb){f=c||ga("window.event");var h=q in e,j=v in e;if(h){if(0>f.keyCode||f.returnValue!=o)return q;a:{var i=v;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(k){i=q}if(i||f.returnValue==o)f.returnValue=q}}i=new Db;i.Cc(f,this);f=q;try{if(h){for(var m=[],n=i.currentTarget;n;n=n.parentNode)m.push(n);g=e[q];g.xa=g.ya;for(var p=m.length-1;!i.qb&&0<=p&&g.xa;p--)i.currentTarget=m[p],f&=Nb(g,m[p],d,q,i);if(j){g=
e[v];g.xa=g.ya;for(p=0;!i.qb&&p<m.length&&g.xa;p++)i.currentTarget=m[p],f&=Nb(g,m[p],d,v,i)}}else f=Ob(b,i)}finally{m&&(m.length=0),i.Va()}return f}d=new Db(c,this);try{f=Ob(b,d)}finally{d.Va()}return f};function Pb(a){this.Wa=a;this.$b=[]}A(Pb,Ab);var Qb=[];Pb.prototype.la=function(){Pb.cb.la.call(this);L(this.$b,Kb);this.$b.length=0};Pb.prototype.handleEvent=function(){l(Error("EventHandler.handleEvent not implemented"))};function Q(){}A(Q,Ab);x=Q.prototype;x.oe=q;x.Rd=r;x.addEventListener=function(a,c,b,d){P(this,a,c,b,d)};x.removeEventListener=function(a,c,b,d){return Jb(this,a,c,b,d)};
x.dispatchEvent=function(a){var c=a.type||a,b=O;if(c in b){if(z(a))a=new N(a,this);else if(a instanceof N)a.target=a.target||this;else{var d=a,a=new N(c,this);Pa(a,d)}var d=1,e,b=b[c],c=q in b,f;if(c){e=[];for(f=this;f;f=f.Rd)e.push(f);f=b[q];f.xa=f.ya;for(var g=e.length-1;!a.qb&&0<=g&&f.xa;g--)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,q,a)&&a.bd!=v}if(v in b)if(f=b[v],f.xa=f.ya,c)for(g=0;!a.qb&&g<e.length&&f.xa;g++)a.currentTarget=e[g],d&=Nb(f,e[g],a.type,v,a)&&a.bd!=v;else for(e=this;!a.qb&&e&&f.xa;e=
e.Rd)a.currentTarget=e,d&=Nb(f,e,a.type,v,a)&&a.bd!=v;a=Boolean(d)}else a=q;return a};x.la=function(){Q.cb.la.call(this);Mb(this);this.Rd=r};var Rb;function Sb(a,c){var b;b=a.className;b=z(b)&&b.match(/\S+/g)||[];for(var d=yb(arguments,1),e=b.length+d.length,f=b,g=0;g<d.length;g++)0<=sb(f,d[g])||f.push(d[g]);a.className=b.join(" ");return b.length==e};function Tb(a,c){this.width=a;this.height=c}function Ub(a,c){return a==c?q:!a||!c?v:a.width==c.width&&a.height==c.height}Tb.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};Tb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Tb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};Tb.prototype.scale=function(a){this.width*=a;this.height*=a;return this};var Vb=!E||nb();!I&&!E||E&&nb()||I&&J("1.9.1");E&&J("9");function Wb(a,c){this.x=ja(a)?a:0;this.y=ja(c)?c:0}Wb.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Xb(a,c){B(c,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:c in Yb?a.setAttribute(Yb[c],b):0==c.lastIndexOf("aria-",0)?a.setAttribute(c,b):a[c]=b})}var Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Zb(a,c,b){return $b(document,arguments)}
function $b(a,c){var b=c[0],d=c[1];if(!Vb&&d&&(d.name||d.type)){b=["<",b];d.name&&b.push(' name="',Ca(d.name),'"');if(d.type){b.push(' type="',Ca(d.type),'"');var e={};Pa(e,d);d=e;delete d.type}b.push(">");b=b.join("")}b=a.createElement(b);d&&(z(d)?b.className=d:ka(d)?Sb.apply(r,[b].concat(d)):Xb(b,d));2<c.length&&ac(a,b,c,2);return b}
function ac(a,c,b,d){function e(b){b&&c.appendChild(z(b)?a.createTextNode(b):b)}for(;d<b.length;d++){var f=b[d];la(f)&&!(oa(f)&&0<f.nodeType)?L(bc(f)?xb(f):f,e):e(f)}}function bc(a){if(a&&"number"==typeof a.length){if(oa(a))return"function"==typeof a.item||"string"==typeof a.item;if(na(a))return"function"==typeof a.item}return v}function cc(a){this.fb=a||y.document||document}x=cc.prototype;x.Cf=function(a,c,b){return $b(this.fb,arguments)};x.createElement=function(a){return this.fb.createElement(a)};
x.createTextNode=function(a){return this.fb.createTextNode(a)};x.appendChild=function(a,c){a.appendChild(c)};x.append=function(a,c){ac(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)};function dc(a){this.Eb={};this.Wa=new Pb(this);this.Ia=a}A(dc,Q);dc.prototype.start=function(){B(this.Eb,this.Kf,this)};dc.prototype.Kf=function(a,c){if(!this.Ac){var b;b=this.Ia?(this.Ia?new cc(9==this.Ia.nodeType?this.Ia:this.Ia.ownerDocument||this.Ia.document):Rb||(Rb=new cc)).Cf("img"):new Image;var d=this.Wa,e=this.Yf,f=[E?"readystatechange":"load","abort","error"];ka(f)||(Qb[0]=f,f=Qb);for(var g=0;g<f.length;g++)d.$b.push(P(b,f[g],e||d,v,d.Wa||d));b.id=c;b.src=a}};
dc.prototype.Yf=function(a){var c=a.currentTarget;if(c){if("readystatechange"==a.type)if("complete"==c.readyState)a.type="load";else return;"undefined"==typeof c.naturalWidth&&("load"==a.type?(c.naturalWidth=c.width,c.naturalHeight=c.height):(c.naturalWidth=0,c.naturalHeight=0));this.dispatchEvent({type:a.type,target:c});if(!this.Ac){a=this.Eb;c=c.id;c in a&&delete a[c];var b;a:{for(b in this.Eb){b=v;break a}b=q}b&&(this.dispatchEvent("complete"),this.Wa&&(b=this.Wa,L(b.$b,Kb),b.$b.length=0))}}};
dc.prototype.la=function(){this.Eb&&delete this.Eb;this.Wa&&(this.Wa.Va(),this.Wa=r);dc.cb.la.call(this)};function ec(a){this.td=a;this.uc={}}ec.prototype.load=function(a,c){var b=new dc;B(this.td,function(a,c){var d=z(a)?a:a.src;d&&(b.Eb[c]=d)});var d=0;b.addEventListener("load",function(b){this.uc[b.target.id]=b.target;d=Ma(this.uc)/Ma(this.td);a(d)},v,this);b.addEventListener("complete",function(){c()},v,this);b.start()};ec.prototype.add=function(a,c){this.td[a]=c};ec.prototype.get=function(a){if(a in this.uc)return this.uc[a];l(Error("not found"))};function fc(a){return gc(a||arguments.callee.caller,[])}
function gc(a,c){var b=[];if(0<=sb(c,a))b.push("[...circular reference...]");else if(a&&50>c.length){b.push(hc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=""+f;break;case "boolean":f=f?"true":"false";break;case "function":f=(f=hc(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");b.push(f)}c.push(a);b.push(")\n");try{b.push(gc(a.caller,c))}catch(g){b.push("[exception trying to get caller]\n")}}else a?
b.push("[...long stack...]"):b.push("[end]");return b.join("")}function hc(a){if(ic[a])return ic[a];a=""+a;if(!ic[a]){var c=/function ([^\(]+)/.exec(a);ic[a]=c?c[1]:"[Anonymous]"}return ic[a]}var ic={};function jc(a,c,b,d,e){this.reset(a,c,b,d,e)}jc.prototype.re=r;jc.prototype.qe=r;var kc=0;jc.prototype.reset=function(a,c,b,d,e){"number"==typeof e||kc++;d||xa();this.ac=a;this.Qe=c;delete this.re;delete this.qe};jc.prototype.Te=function(a){this.ac=a};function lc(a){this.Wf=a}lc.prototype.Ia=r;lc.prototype.ac=r;lc.prototype.Db=r;function mc(a,c){this.name=a;this.value=c}mc.prototype.toString=ba("name");var nc=new mc("INFO",800),oc=new mc("CONFIG",700);x=lc.prototype;x.getParent=ba("Ia");x.Te=function(a){this.ac=a};function pc(a){if(a.ac)return a.ac;if(a.Ia)return pc(a.Ia);Ka("Root logger has no level set.");return r}
x.log=function(a,c,b){if(a.value>=pc(this).value){a=this.Ff(a,c,b);c="log:"+a.Qe;y.console&&(y.console.timeStamp?y.console.timeStamp(c):y.console.markTimeline&&y.console.markTimeline(c));y.msWriteProfilerMark&&y.msWriteProfilerMark(c);for(c=this;c;){var b=c,d=a;if(b.Db)for(var e=0,f=o;f=b.Db[e];e++)f(d);c=c.getParent()}}};
x.Ff=function(a,c,b){var d=new jc(a,""+c,this.Wf);if(b){d.re=b;var e;var f=arguments.callee.caller;try{var g;var h=ga("window.location.href");if(z(b))g={message:b,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var j,i,k=v;try{j=b.lineNumber||b.Cg||"Not available"}catch(m){j="Not available",k=q}try{i=b.fileName||b.filename||b.sourceURL||h}catch(n){i="Not available",k=q}g=k||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:j,fileName:i,
stack:b.stack||"Not available"}:b}e="Message: "+Ca(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+Ca(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ca(fc(f)+"-> ")}catch(p){e="Exception trying to expose exception! You win, we lose. "+p}d.qe=e}return d};x.info=function(a,c){this.log(nc,a,c)};var qc=r;function rc(){qc||(qc=new lc(""),qc.Te(oc));return qc};function sc(a,c){this.Dc=a||1;this.qc=c||tc;this.wd=va(this.ag,this);this.Cd=xa()}A(sc,Q);sc.prototype.enabled=v;var tc=y.window;x=sc.prototype;x.ub=r;x.ag=function(){if(this.enabled){var a=xa()-this.Cd;0<a&&a<0.8*this.Dc?this.ub=this.qc.setTimeout(this.wd,this.Dc-a):(this.dispatchEvent(uc),this.enabled&&(this.ub=this.qc.setTimeout(this.wd,this.Dc),this.Cd=xa()))}};x.start=function(){this.enabled=q;this.ub||(this.ub=this.qc.setTimeout(this.wd,this.Dc),this.Cd=xa())};
x.stop=function(){this.enabled=v;this.ub&&(this.qc.clearTimeout(this.ub),this.ub=r)};x.la=function(){sc.cb.la.call(this);this.stop();delete this.qc};var uc="tick";function vc(a,c,b){na(a)?b&&(a=va(a,b)):a&&"function"==typeof a.handleEvent?a=va(a.handleEvent,a):l(Error("Invalid listener argument"));2147483647<c||tc.setTimeout(a,c||0)};function wc(a){this.fb=a}var xc=/\s*;\s*/;wc.prototype.set=function(a,c,b,d,e,f){/[;=\s]/.test(a)&&l(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(c)&&l(Error('Invalid cookie value "'+c+'"'));ja(b)||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";b=0>b?"":0==b?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(xa()+1E3*b)).toUTCString();this.fb.cookie=a+"="+c+e+d+b+f};
wc.prototype.get=function(a,c){for(var b=a+"=",d=(this.fb.cookie||"").split(xc),e=0,f;f=d[e];e++){if(0==f.indexOf(b))return f.substr(b.length);if(f==a)return""}return c};wc.prototype.remove=function(a,c,b){var d=ja(this.get(a));this.set(a,"",0,c,b);return d};function yc(){for(var a=(zc.fb.cookie||"").split(xc),c=[],b=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(c.push(""),b.push(e)):(c.push(e.substring(0,d)),b.push(e.substring(d+1)));return{keys:c,Fg:b}}var zc=new wc(document);zc.kg=3950;function Ac(a,c){c===o?zc.remove(a):zc.set(a,c,31536E4);Bc()}function Bc(){L(yc().keys,function(a){var c;a:{c=Cc;for(var b in c)if(c[b]==a){c=q;break a}c=v}c||zc.remove(a)})}var Cc={ug:"s",lg:"m",jg:"h"};function Dc(a,c,b,d,e){N.call(this,c,e);this.rc=a;this.ke=b;this.le=d}A(Dc,N);function S(a,c){this.x=a;this.y=c}A(S,Wb);function Ec(){var a=2*Math.random()*Math.PI;return new S(Math.cos(a),Math.sin(a))}function Fc(a){return Math.sqrt(a.x*a.x+a.y*a.y)}S.prototype.scale=function(a){this.x*=a;this.y*=a;return this};S.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};S.prototype.pc=function(a){this.x-=a.x;this.y-=a.y;return this};S.prototype.rotate=function(a){var c=Math.cos(a),a=Math.sin(a),b=this.y*c+this.x*a;this.x=this.x*c-this.y*a;this.y=b;return this};
function Gc(a,c){return a.x*c.x+a.y*c.y};function T(a,c){a===o&&(a=0);this.x=a;c===o&&(c=0);this.y=c}A(T,S);x=T.prototype;x.ld=function(){this.y=this.x=0};x.q=function(a,c){this.x=a;this.y=c};function U(a,c){a.x=c.x;a.y=c.y}x.Ua=function(){return new T(this.x,this.y)};function Hc(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}x.vb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Ic(a){var c=Fc(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}x.Ub=function(){return isFinite(this.x)&&isFinite(this.y)};
function Jc(a,c){return new T(a.x+c.x,a.y+c.y)}function Kc(a,c){return new T(a.x-c.x,a.y-c.y)};function Lc(){this.type=Mc;this.M=r;this.hb=new T(0,0);this.Lf=0;this.Bb=0.2;this.zc=this.Ob=0;this.Yb=1;this.jc=65535;this.te=0}Lc.prototype.gd=function(a){a.R=new T(0,0);a.Sa=0;a.Tb=0};Lc.prototype.Yb=0;Lc.prototype.jc=0;Lc.prototype.te=0;var Mc=-1;function V(a,c,b){a==r&&(a=0);this.a=new T;this.b=new T;c!=r&&b!=r?(U(this.a,c),U(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}x=V.prototype;x.q=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};x.Ua=function(){return new V(0,this.a,this.b)};function Nc(a,c){U(a.a,c.a);U(a.b,c.b)}x.ld=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
x.de=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};x.vb=function(){this.a.vb();this.b.vb()};function Oc(a,c){this.g=new V;this.c=new T;this.Da=a.M;this.Y=a.Bb;this.Z=a.Ob;this.j=c;this.L=65535;this.Uc=0;this.Yb=a.Yb;this.jc=a.jc;this.Sc=a.te}Oc.prototype.jd=aa();Oc.prototype.tc=ba("n");Oc.prototype.wb=function(){65535!=this.L&&(this.j.F.ta.wb(this.L),this.L=65535)};Oc.prototype.md=aa();function Pc(){Lc.call(this);this.Qb=Array(8);this.type=2;for(var a=this.ed=0;8>a;a++)this.Qb[a]=new T}A(Pc,Lc);function Qc(a,c){a.ed=c.length;for(var b=0;b<c.length;b++)a.Qb[b].q(c[b][0],c[b][1])}
Pc.prototype.gd=function(a){a.R=new T(0,0);0==this.zc&&(a.Sa=0,a.R.q(0,0),a.Tb=0);var c=this.Qb,b=this.ed,d=this.zc,e=new T;e.ld();for(var f=0,g=0,h=new T(0,0),j=1/3,i=0;i<b;++i){var k=h,m=c[i],n=i+1<b?c[i+1]:c[0],p=Kc(m,k),t=Kc(n,k),u=p.x*t.y-p.y*t.x,s=0.5*u,f=f+s,w=new T;U(w,k);w.add(m);w.add(n);w.scale(j*s);e.add(w);m=k.x;k=k.y;n=p.x;p=p.y;s=t.x;t=t.y;g+=u*(j*(0.25*(n*n+s*n+s*s)+(m*n+m*s))+0.5*m*m+(j*(0.25*(p*p+t*p+t*t)+(k*p+k*t))+0.5*k*k))}a.Sa=d*f;e.scale(1/f);a.R=e;g=d*(g-f*Gc(e,e));a.Tb=g};function Rc(){this.Sa=this.Tb=0;this.R=new T(0,0)};var Sc=Math.PI,Tc=2/180/1;function Uc(){this.ca=new V;this.R=new T;this.ma=new T};function Vc(){this.A=new T;this.D=new T}Vc.prototype.Ub=function(){var a=this.D.x,c=this.D.y,a=this.D.x,c=this.D.y,a=a-this.A.x,c=c-this.A.y;return a=0<=a&&0<=c&&this.A.Ub()&&this.D.Ub()};function Wc(a,c,b){Oc.call(this,a,c);this.ia=new Vc;this.Q=new V;this.oa=new T;this.k=new Uc;var d=0,e,c=new Vc;this.z=Array(8);this.Hd=Array(8);this.Ba=Array(8);this.Od=2;var f=new V(a.Lf);this.wa=a.ed;for(var d=a.Qb,g=a.ed,h=Xc,j=e=0,i=0,k=1/3,m=0;m<g;++m){var n=d[m].x,p=d[m].y,t=m+1<g?d[m+1].x:d[0].x,u=m+1<g?d[m+1].y:d[0].y,s=0.5*((n-0)*(u-0)-(p-0)*(t-0)),i=i+s;e+=s*k*(0+n+t);j+=s*k*(0+p+u)}h.q(e*(1/i),j*(1/i));g=Xc.x;h=Xc.y;this.oa.x=a.hb.x+(f.a.x*g+f.b.x*h)-b.x;this.oa.y=a.hb.y+(f.a.y*g+f.b.y*
h)-b.y;for(d=0;d<this.wa;++d)this.z[d]=new T,this.Hd[d]=new T,b=a.Qb[d].x-g,e=a.Qb[d].y-h,this.z[d].x=f.a.x*b+f.b.x*e,this.z[d].y=f.a.y*b+f.b.y*e,b=this.z[d].x,e=this.z[d].y,j=Math.sqrt(b*b+e*e),j>Number.MIN_VALUE&&(b*=1/j,e*=1/j),this.Hd[d].x=this.z[d].x-0.3*b,this.Hd[d].y=this.z[d].y-0.3*e;f=a=Number.MAX_VALUE;b=-Number.MAX_VALUE;g=-Number.MAX_VALUE;for(d=this.Uc=0;d<this.wa;++d)h=this.z[d],a=Math.min(a,h.x),f=Math.min(f,h.y),b=Math.max(b,h.x),g=Math.max(g,h.y),this.Uc=Math.max(this.Uc,Fc(h));d=
this.k.ca;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.k.R.q(0.5*(a+b),0.5*(f+g));this.k.ma.q(0.5*(b-a),0.5*(g-f));for(d=f=a=0;d<this.wa;++d)this.Ba[d]=new T,a=d,f=d+1<this.wa?d+1:0,this.Ba[d].x=this.z[f].y-this.z[a].y,this.Ba[d].y=-(this.z[f].x-this.z[a].x),Ic(this.Ba[d]);for(d=0;d<this.wa;++d);Nc(this.g,this.j.g);this.c.x=this.j.c.x+(this.g.a.x*this.oa.x+this.g.b.x*this.oa.y);this.c.y=this.j.c.y+(this.g.a.y*this.oa.x+this.g.b.y*this.oa.y);Yc.a.x=this.g.a.x*this.k.ca.a.x+this.g.b.x*this.k.ca.a.y;Yc.a.y=
this.g.a.y*this.k.ca.a.x+this.g.b.y*this.k.ca.a.y;Yc.b.x=this.g.a.x*this.k.ca.b.x+this.g.b.x*this.k.ca.b.y;Yc.b.y=this.g.a.y*this.k.ca.b.x+this.g.b.y*this.k.ca.b.y;Yc.vb();b=Yc.a.x*this.k.ma.x+Yc.b.x*this.k.ma.y;e=Yc.a.y*this.k.ma.x+Yc.b.y*this.k.ma.y;a=this.c.x+(this.g.a.x*this.k.R.x+this.g.b.x*this.k.R.y);f=this.c.y+(this.g.a.y*this.k.R.x+this.g.b.y*this.k.R.y);c.A.x=a-b;c.A.y=f-e;c.D.x=a+b;c.D.y=f+e;a=this.j.F.ta;this.L=Zc(a,c)?$c(a,c,this):65535;65535==this.L&&ad(this.j)}A(Wc,Oc);
Wc.prototype.ia=new Vc;Wc.prototype.Q=new V;
Wc.prototype.md=function(a,c,b,d){Nc(this.g,d);this.c.x=this.j.c.x+(d.a.x*this.oa.x+d.b.x*this.oa.y);this.c.y=this.j.c.y+(d.a.y*this.oa.x+d.b.y*this.oa.y);if(65535!=this.L){var e,f;e=c.a;f=c.b;var g=this.k.ca.a,h=this.k.ca.b;this.Q.a.x=e.x*g.x+f.x*g.y;this.Q.a.y=e.y*g.x+f.y*g.y;this.Q.b.x=e.x*h.x+f.x*h.y;this.Q.b.y=e.y*h.x+f.y*h.y;this.Q.vb();e=this.oa.x+this.k.R.x;f=this.oa.y+this.k.R.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.Q.a.x*this.k.ma.x+this.Q.b.x*this.k.ma.y;f=this.Q.a.y*this.k.ma.x+
this.Q.b.y*this.k.ma.y;this.ia.A.x=g-e;this.ia.A.y=a-f;this.ia.D.x=g+e;this.ia.D.y=a+f;e=d.a;f=d.b;g=this.k.ca.a;h=this.k.ca.b;this.Q.a.x=e.x*g.x+f.x*g.y;this.Q.a.y=e.y*g.x+f.y*g.y;this.Q.b.x=e.x*h.x+f.x*h.y;this.Q.b.y=e.y*h.x+f.y*h.y;this.Q.vb();e=this.oa.x+this.k.R.x;f=this.oa.y+this.k.R.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.Q.a.x*this.k.ma.x+this.Q.b.x*this.k.ma.y;f=this.Q.a.y*this.k.ma.x+this.Q.b.y*this.k.ma.y;this.ia.A.x=Math.min(this.ia.A.x,g-e);this.ia.A.y=Math.min(this.ia.A.y,
a-f);this.ia.D.x=Math.max(this.ia.D.x,g+e);this.ia.D.y=Math.max(this.ia.D.y,a+f);b=this.j.F.ta;Zc(b,this.ia)?bd(b,this.L,this.ia):ad(this.j)}};
Wc.prototype.jd=function(a){if(65535!=this.L){a.wb(this.L);var c=new V(0,cd(this.g,this.k.ca.a),cd(this.g,this.k.ca.b)),c=new V(0,new T(Math.abs(c.a.x),Math.abs(c.a.y)),new T(Math.abs(c.b.x),Math.abs(c.b.y))),c=cd(c,this.k.ma),b=cd(this.g,this.k.R);b.add(this.c);var d=new Vc;U(d.A,b);d.A.pc(c);U(d.D,b);d.D.add(c);this.L=Zc(a,d)?$c(a,d,this):65535;65535==this.L&&ad(this.j)}};var Xc=new T,Yc=new V;function dd(){Lc.call(this);this.type=0;this.rb=1}A(dd,Lc);dd.prototype.gd=function(a){a.Sa=this.zc*Sc*this.rb*this.rb;a.Tb=0.5*a.Sa*this.rb*this.rb};function ed(a,c,b){Oc.call(this,a,c);this.ra=new T;this.ra.q(a.hb.x-b.x,a.hb.y-b.y);this.Od=a.type;this.e=a.rb;Nc(this.g,this.j.g);a=this.g.a.x*this.ra.x+this.g.b.x*this.ra.y;c=this.g.a.y*this.ra.x+this.g.b.y*this.ra.y;this.c.x=this.j.c.x+a;this.c.y=this.j.c.y+c;this.Uc=Math.sqrt(a*a+c*c)+this.e;a=new Vc;a.A.q(this.c.x-this.e,this.c.y-this.e);a.D.q(this.c.x+this.e,this.c.y+this.e);c=this.j.F.ta;this.L=Zc(c,a)?$c(c,a,this):65535;65535==this.L&&ad(this.j)}A(ed,Oc);
ed.prototype.md=function(a,c,b,d){Nc(this.g,d);this.c.x=d.a.x*this.ra.x+d.b.x*this.ra.y+b.x;this.c.y=d.a.y*this.ra.x+d.b.y*this.ra.y+b.y;if(65535!=this.L){var b=a.x+(c.a.x*this.ra.x+c.b.x*this.ra.y),d=a.y+(c.a.y*this.ra.x+c.b.y*this.ra.y),a=Math.min(b,this.c.x),c=Math.min(d,this.c.y),b=Math.max(b,this.c.x),e=Math.max(d,this.c.y),d=new Vc;d.A.q(a-this.e,c-this.e);d.D.q(b+this.e,e+this.e);a=this.j.F.ta;Zc(a,d)?bd(a,this.L,d):ad(this.j)}};
ed.prototype.jd=function(a){if(65535!=this.L){a.wb(this.L);var c=new Vc;c.A.q(this.c.x-this.e,this.c.y-this.e);c.D.q(this.c.x+this.e,this.c.y+this.e);this.L=Zc(a,c)?$c(a,c,this):65535;65535==this.L&&ad(this.j)}};function cd(a,c){return new T(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)};function fd(a,c){this.Se=new V;this.c=new T;U(this.c,a.position);this.Md=new T;U(this.Md,this.c);var b=0,d,e;this.h=0;this.Ca=a.rotation;this.g=new V(0);this.g.q(this.Ca);this.Ke=this.Ca;this.F=c;this.Rf=Math.max(0,Math.min(1-a.Ae,1));this.Nf=Math.max(0,Math.min(1-a.je,1));this.dc=new T(0,0);this.Jb=this.Me=0;for(var f=Array(64),b=0;64>b;b++)f[b]=new Rc;this.hc=0;this.Ga=new T(0,0);for(b=0;64>b;++b){d=a.Pb[b];if(d==r)break;e=f[b];d.gd(e);this.Jb+=e.Sa;this.Ga.x+=e.Sa*(d.hb.x+e.R.x);this.Ga.y+=e.Sa*
(d.hb.y+e.R.y);++this.hc}0<this.Jb?(this.Ga.scale(1/this.Jb),this.c.add(cd(this.g,this.Ga))):this.h|=gd;for(b=this.ib=0;b<this.hc;++b)d=a.Pb[b],e=f[b],this.ib+=e.Tb,d=Kc(Jc(d.hb,e.R),this.Ga),this.ib+=e.Sa*Gc(d,d);this.N=0<this.Jb?1/this.Jb:0;this.ua=0<this.ib&&a.Zf==v?1/this.ib:this.ib=0;this.w=Jc(a.Jf,new T(-a.ud*this.Ga.y,a.ud*this.Ga.x));this.O=a.ud;this.ab=this.n=this.K=this.I=this.Aa=r;for(b=0;b<this.hc;++b){d=a.Pb[b];var g;e=d;f=this.Ga;e instanceof dd?g=new ed(e,this,f):e instanceof Pc?g=
new Wc(e,this,f):l("unsupported ShapeDef");g.n=this.ab;this.ab=g}this.Lb=0;a.zf&&(this.h|=hd);a.Hf&&(this.h|=id);if(this.h&id||0==this.N)this.w.q(0,0),this.O=0;this.Da=a.M}function jd(a){a.h&=~id;a.Lb=0}fd.prototype.tc=ba("n");function ad(a){a.h|=kd;a.w.ld();a.O=0;for(a=a.ab;a!=r;a=a.n)a.wb()}var gd=1,kd=2,id=8,hd=16;function ld(){this.Ud=this.xd=r};function md(){this.next=this.prev=this.V=this.ea=r};function nd(a,c){this.l=new md;this.o=new md;this.h=0;!a||!c?this.v=this.t=r:(this.t=a,this.v=c,this.pa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.K=r,this.l.V=r,this.l.prev=r,this.l.next=r,this.l.ea=r,this.o.V=r,this.o.prev=r,this.o.next=r,this.o.ea=r)}nd.prototype.xb=ca(r);nd.prototype.tc=ba("n");nd.prototype.Sb=aa();function od(){};function pd(){this.eb=0;this.H=new od}pd.prototype.q=function(a){qd(this,a.eb)};pd.prototype.Ua=function(){var a=new pd;qd(a,this.eb);return a};function qd(a,c){a.eb=c;a.H.Ag=a.eb&255;a.H.yg=(a.eb&65280)>>8&255;a.H.zg=(a.eb&16711680)>>16&255;a.H.xg=(a.eb&4278190080)>>24&255};function rd(){this.position=new T;this.id=new pd;this.U=this.P=this.Fa=r};function sd(){this.G=0;this.J=Array(2);for(var a=0;2>a;a++)this.J[a]=new rd;this.B=new T};function td(a,c){this.l=new md;this.o=new md;this.h=0;!a||!c?this.v=this.t=r:(this.t=a,this.v=c,this.pa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.K=r,this.l.V=r,this.l.prev=r,this.l.next=r,this.l.ea=r,this.o.V=r,this.o.prev=r,this.o.next=r,this.o.ea=r,this.Kc=new sd,this.W=[new sd],this.W[0].G=0)}A(td,nd);
td.prototype.Sb=function(){for(var a=this.W[0],c=this.Kc.J,b=0;b<a.G;b++){var d=c[b],e=a.J[b];d.P=e.P;d.U=e.U;d.id=e.id.Ua()}this.Kc.G=a.G;var b=this.t,f=this.v;a.G=0;var g,c=[0],d=ud(c,b,f);g=c[0];if(!(0<d)){var h,c=[0],j=ud(c,f,b);h=c[0];if(!(0<j)){c=e=0;j>0.98*d+0.0010?(d=f,j=b,e=h,c=1):(d=b,j=f,e=g,c=0);b=[new vd,new vd];f=e;g=j;var i=d.z,j=g.wa;h=g.z;for(var k=i[f+1==d.wa?0:f+1],m=k.x,n=k.y,k=i[f],m=m-k.x,n=n-k.y,k=m,m=n,n=-k,k=1/Math.sqrt(m*m+n*n),n=n*k,k=m*k,i=d.g,m=i.a.x*k+i.b.x*n,n=i.a.y*
k+i.b.y*n,i=g.g,k=m*i.a.x+n*i.a.y,n=m*i.b.x+n*i.b.y,m=k,p=i=0,t=Number.MAX_VALUE,u=0;u<j;++u){var s=u,w=u+1<j?u+1:0,k=h[w],C=k.x,D=k.y,k=h[s],C=C-k.x,D=D-k.y,k=C,C=D,D=-k,k=1/Math.sqrt(C*C+D*D),C=C*k,D=D*k,k=C*m+D*n;k<t&&(t=k,i=s,p=w)}j=b[0];k=j.Ta;U(k,h[i]);Hc(k,g.g);k.add(g.c);j.id.H.ad=f;j.id.H.Zb=i;j.id.H.Fb=i;j=b[1];k=j.Ta;U(k,h[p]);Hc(k,g.g);k.add(g.c);j.id.H.ad=f;j.id.H.Zb=i;j.id.H.Fb=p;f=d.z;k=f[e];m=e+1<d.wa?f[e+1]:f[0];g=m.x-k.x;h=m.y-k.y;n=g;i=d.g;g=i.a.x*n+i.b.x*h;h=i.a.y*n+i.b.y*h;e=
1/Math.sqrt(g*g+h*h);g*=e;h*=e;n=g;e=h;f=-n;j=k.x;p=k.y;n=j;i=d.g;j=i.a.x*n+i.b.x*p;p=i.a.y*n+i.b.y*p;j+=d.c.x;p+=d.c.y;k=m.x;m=m.y;n=k;i=d.g;k=i.a.x*n+i.b.x*m;m=i.a.y*n+i.b.y*m;k+=d.c.x;m+=d.c.y;d=e*j+f*p;n=-(g*j+h*p);k=g*k+h*m;m=[new vd,new vd];j=[new vd,new vd];i=0;wd.q(-g,-h);i=xd(m,b,n);if(!(2>i)&&(wd.q(g,h),i=xd(j,m,k),!(2>i))){c?a.B.q(-e,-f):a.B.q(e,f);for(g=b=0;2>g;++g)h=j[g].Ta,h=e*h.x+f*h.y-d,0>=h&&(k=a.J[b],k.Fa=h,U(k.position,j[g].Ta),k.id.q(j[g].id),k.id.H.yd=c,++b);a.G=b}}}if(0<a.G){c=
[v,v];for(b=0;b<a.G;++b){d=a.J[b];d.P=0;d.U=0;e=d.id.key;for(f=0;f<this.Kc.G;++f)if(c[f]!=q&&(g=this.Kc.J[f],g.id.key==e)){c[f]=q;d.P=g.P;d.U=g.U;break}}this.pa=1}else this.pa=0};td.prototype.xb=ba("W");function yd(a,c){return new td(a,c)};function zd(a,c){this.l=new md;this.o=new md;this.h=0;!a||!c?this.v=this.t=r:(this.t=a,this.v=c,this.pa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.K=r,this.l.V=r,this.l.prev=r,this.l.next=r,this.l.ea=r,this.o.V=r,this.o.prev=r,this.o.next=r,this.o.ea=r,this.W=[new sd],this.W[0].G=0,this.W[0].J[0].P=0,this.W[0].J[0].U=0)}A(zd,nd);
zd.prototype.Sb=function(){a:{var a=this.W[0],c=this.t,b=this.v;a.G=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.g,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,i=-Number.MAX_VALUE,h=b.e;for(d=0;d<c.wa;++d){var k=c.Ba[d].x*(e-c.z[d].x)+c.Ba[d].y*(f-c.z[d].y);if(k>h)break a;k>i&&(i=k,j=d)}if(i<Number.MIN_VALUE)a.G=1,f=c.Ba[j],a.B.x=g.a.x*f.x+g.b.x*f.y,a.B.y=g.a.y*f.x+g.b.y*f.y,d=a.J[0],d.id.H.Zb=j,d.id.H.Fb=255,d.id.H.ad=255,d.id.H.yd=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=
i-h;else{var i=j+1<c.wa?j+1:0,m=c.z[i].x-c.z[j].x,k=c.z[i].y-c.z[j].y,n=Math.sqrt(m*m+k*k),m=m/n,k=k/n;if(n<Number.MIN_VALUE)e-=c.z[j].x,f-=c.z[j].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,c>h||(a.G=1,a.B.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.J[0],d.id.H.Zb=255,d.id.H.Fb=j,d.id.H.ad=255,d.id.H.yd=0,d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=c-h);else{var p=(e-c.z[j].x)*m+(f-c.z[j].y)*k;d=a.J[0];d.id.H.Zb=255;d.id.H.Fb=255;d.id.H.ad=255;d.id.H.yd=0;0>=p?(m=c.z[j].x,c=c.z[j].y,d.id.H.Fb=j):
p>=n?(m=c.z[i].x,c=c.z[i].y,d.id.H.Fb=i):(m=m*p+c.z[j].x,c=k*p+c.z[j].y,d.id.H.Zb=j);e-=m;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;c>h||(a.G=1,a.B.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.B.x,d.position.y=b.c.y-h*a.B.y,d.Fa=c-h)}}}this.pa=0<this.W[0].G?1:0};zd.prototype.xb=ba("W");function Ad(a,c){return new zd(a,c)};function vd(){this.Ta=new T;this.id=new pd};function xd(a,c,b){var d=wd,e=0,f=c[0].Ta,g=c[1].Ta,h=Gc(d,c[0].Ta)-b,b=Gc(d,c[1].Ta)-b;0>=h&&(a[e++]=c[0]);0>=b&&(a[e++]=c[1]);0>h*b&&(b=h/(h-b),d=a[e].Ta,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<h?c[0].id:c[1].id,++e);return e}
function Bd(a,c,b){for(var d=a.z,e=b.wa,f=b.z,g=a.Ba[c].x,h=a.Ba[c].y,j=g,i=a.g,g=i.a.x*j+i.b.x*h,h=i.a.y*j+i.b.y*h,k=g,m=h,i=b.g,j=k*i.a.x+m*i.a.y,m=k*i.b.x+m*i.b.y,k=j,j=0,i=Number.MAX_VALUE,n=0;n<e;++n){var p=f[n],p=p.x*k+p.y*m;p<i&&(i=p,j=n)}i=a.g;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.g;c=b.c.x+(i.a.x*f[j].x+i.b.x*f[j].y);b=b.c.y+(i.a.y*f[j].x+i.b.y*f[j].y);return(c-e)*g+(b-a)*h}
function ud(a,c,b){for(var d=c.wa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.g.a.x+f*c.g.a.y,f=e*c.g.b.x+f*c.g.b.y,e=0,h=-Number.MAX_VALUE,j=0;j<d;++j){var i=c.Ba[j].x*g+c.Ba[j].y*f;i>h&&(h=i,e=j)}g=Bd(c,e,b);if(0<g)return g;j=0<=e-1?e-1:d-1;i=Bd(c,j,b);if(0<i)return i;var k=e+1<d?e+1:0,m=Bd(c,k,b);if(0<m)return m;h=f=0;if(i>g&&i>m)h=-1,f=j,j=i;else if(m>g)h=1,f=k,j=m;else return a[0]=e,g;for(;;){e=-1==h?0<=f-1?f-1:d-1:f+1<d?f+1:0;g=Bd(c,e,b);if(0<g)return g;if(g>j)f=e,j=g;else break}a[0]=f;return j}
var wd=new T;function Cd(a,c){this.l=new md;this.o=new md;this.h=0;!a||!c?this.v=this.t=r:(this.t=a,this.v=c,this.pa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.K=r,this.l.V=r,this.l.prev=r,this.l.next=r,this.l.ea=r,this.o.V=r,this.o.prev=r,this.o.next=r,this.o.ea=r,this.W=[new sd],this.W[0].G=0,this.W[0].J[0].P=0,this.W[0].J[0].U=0)}A(Cd,nd);
Cd.prototype.Sb=function(){var a=this.W[0],c=this.t,b=this.v;a.G=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.e+b.e;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.B.q(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.B.x=c*d;a.B.y=c*e}a.G=1;d=a.J[0];qd(d.id,0);d.Fa=f;d.position.x=b.c.x-b.e*a.B.x;d.position.y=b.c.y-b.e*a.B.y}this.pa=0<this.W[0].G?1:0};Cd.prototype.xb=ba("W");function Dd(a,c){return new Cd(a,c)};function Ed(a,c,b){Fd[c][b].xd=a;Fd[c][b].Ud=q;c!=b&&(Fd[b][c].xd=a,Fd[b][c].Ud=v)}var Fd=r,Gd=v;function Hd(a,c){this.l=new md;this.o=new md;this.h=0;!a||!c?this.v=this.t=r:(this.t=a,this.v=c,this.pa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.n=this.K=r,this.l.V=r,this.l.prev=r,this.l.next=r,this.l.ea=r,this.o.V=r,this.o.prev=r,this.o.next=r,this.o.ea=r)}A(Hd,nd);Hd.prototype.Sb=aa();Hd.prototype.xb=ca(r);function Id(){}Id.prototype.ae=ca(r);Id.prototype.be=aa();function Jd(a){this.Ld=new Hd;this.F=a;this.Id=v}A(Jd,Id);
Jd.prototype.ae=function(a,c){var b=a,d=c,e=b.j,f=d.j,g;if(!(g=(e.h&gd)==gd&&(f.h&gd)==gd||b.j==d.j))a:{for(g=f.Aa;g!=r;g=g.next)if(g.ea==e){g=g.Fc.Pf==v;break a}g=v}if(g||(b.Sc==d.Sc&&0!=b.Sc?0<b.Sc:0!=(b.jc&d.Yb)&&0!=(b.Yb&d.jc))==v)return this.Ld;0==f.N&&(e=b,b=d,d=e);if(Gd==v){Fd=Array(4);for(e=0;4>e;e++){Fd[e]=Array(4);for(f=0;4>f;f++)Fd[e][f]=new ld}Ed(Dd,0,0);Ed(Ad,2,0);Ed(yd,2,2);Gd=q}e=b.Od;f=d.Od;if(g=Fd[e][f].xd)if(Fd[e][f].Ud)d=g(b,d);else{d=g(d,b);for(b=0;b<d.pa;++b)e=d.xb()[b],e.B=new T(-e.B.x,
-e.B.y)}else d=r;if(d==r)return this.Ld;d.K=r;d.n=this.F.I;this.F.I!=r&&(this.F.I.K=d);this.F.I=d;this.F.kb++;return d};Jd.prototype.be=function(a,c,b){b!=r&&b!=this.Ld&&(this.Id==q?Kd(this,b):b.h|=2)};
function Kd(a,c){c.K&&(c.K.n=c.n);c.n&&(c.n.K=c.K);c==a.F.I&&(a.F.I=c.n);if(0<c.pa){var b=c.t.j,d=c.v.j,e=c.l,f=c.o;jd(b);jd(d);e.prev&&(e.prev.next=e.next);e.next&&(e.next.prev=e.prev);e==b.I&&(b.I=e.next);e.prev=r;e.next=r;f.prev&&(f.prev.next=f.next);f.next&&(f.next.prev=f.prev);f==d.I&&(d.I=f.next);f.prev=r;f.next=r}--a.F.kb};function Ld(){this.Gc=new T;this.Hc=new T;this.sc=this.Fa=this.Ve=this.Qd=this.mc=this.U=this.P=r};function Md(){this.Ob=this.Bb=this.yc=this.xc=this.Ne=r;this.G=0;this.B=new T;this.J=Array(2);for(var a=0;2>a;a++)this.J[a]=new Ld};function Nd(a,c){this.Gb=[];for(var b=0,d,e,b=this.jb=0;b<c;++b)this.jb+=a[b].pa;for(b=0;b<this.jb;b++)this.Gb[b]=new Md;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.t.j,j=g.v.j,i=g.pa,k=g.xb(),m=g.Y,g=g.Z,n=h.w.x,p=h.w.y,t=j.w.x,u=j.w.y,s=h.O,w=j.O,C=0;C<i;++C){var D=k[C],F=D.B.x,R=D.B.y,H=this.Gb[f];H.xc=h;H.yc=j;H.Ne=D;H.B.x=F;H.B.y=R;H.G=D.G;H.Bb=m;H.Ob=g;for(var da=0;da<H.G;++da){var G=D.J[da],M=H.J[da];M.P=G.P;M.U=G.U;M.Fa=G.Fa;var ea=G.position.x-h.c.x,Aa=G.position.y-h.c.y,Ba=G.position.x-j.c.x,
G=G.position.y-j.c.y;d=M.Gc;e=h.g;d.x=ea*e.a.x+Aa*e.a.y;d.y=ea*e.b.x+Aa*e.b.y;d=M.Hc;e=j.g;d.x=Ba*e.a.x+G*e.a.y;d.y=Ba*e.b.x+G*e.b.y;d=ea*ea+Aa*Aa;e=Ba*Ba+G*G;var jb=ea*F+Aa*R,ta=Ba*F+G*R,fa=h.N+j.N,fa=fa+(h.ua*(d-jb*jb)+j.ua*(e-ta*ta));M.Qd=1/fa;ta=R;fa=-F;jb=ea*ta+Aa*fa;ta=Ba*ta+G*fa;fa=h.N+j.N;fa+=h.ua*(d-jb*jb)+j.ua*(e-ta*ta);M.Ve=1/fa;M.sc=0;0<M.Fa&&(M.sc=-60*M.Fa);ea=H.B.x*(t+-w*G-n- -s*Aa)+H.B.y*(u+w*Ba-p-s*ea);-30>ea&&(M.sc+=-H.Ob*ea)}++f}}
Nd.prototype={nf:function(){for(var a,c,b=0;b<this.jb;++b){var d=this.Gb[b],e=d.xc,f=d.yc,g=e.N,h=e.ua,j=f.N,i=f.ua,k=d.B.x,m=d.B.y,n=m,p=-k,t=0,u=0;if(Od){u=d.G;for(t=0;t<u;++t){var s=d.J[t],w=s.P*k+s.U*n,C=s.P*m+s.U*p;c=e.g;a=s.Gc;var D=c.a.x*a.x+c.b.x*a.y,F=c.a.y*a.x+c.b.y*a.y;c=f.g;a=s.Hc;var R=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.O-=h*(D*C-F*w);e.w.x-=g*w;e.w.y-=g*C;f.O+=i*(R*C-a*w);f.w.x+=j*w;f.w.y+=j*C;s.mc=0}}else{u=d.G;for(t=0;t<u;++t)e=d.J[t],e.P=0,e.U=0,e.mc=0}}},fe:function(){for(var a=
0,c,b,d,e,f,g,h,j,i=0;i<this.jb;++i){for(var k=this.Gb[i],m=k.xc,n=k.yc,p=m.O,t=m.w,u=n.O,s=n.w,w=m.N,C=m.ua,D=n.N,F=n.ua,R=k.B.x,H=k.B.y,da=H,G=-R,M=k.G,a=0;a<M;++a)c=k.J[a],f=m.g,g=c.Gc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=n.g,g=c.Hc,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=s.x+-u*f-t.x- -p*d,h=s.y+u*e-t.y-p*b,g=-c.Qd*(g*R+h*H-c.sc),h=Math.max(c.P+g,0),g=h-c.P,j=g*R,g*=H,t.x-=w*j,t.y-=w*g,p-=C*(b*g-d*j),s.x+=D*j,s.y+=D*g,u+=F*(e*g-f*j),c.P=h,g=s.x+-u*f-t.x- -p*d,h=s.y+u*e-t.y-p*b,
g=c.Ve*-(g*da+h*G),h=k.Bb*c.P,h=Math.max(-h,Math.min(c.U+g,h)),g=h-c.U,j=g*da,g*=G,t.x-=w*j,t.y-=w*g,p-=C*(b*g-d*j),s.x+=D*j,s.y+=D*g,u+=F*(e*g-f*j),c.U=h;m.O=p;n.O=u}},ee:function(a){for(var c=0,b,d,e=0;e<this.jb;++e){for(var f=this.Gb[e],g=f.xc,h=f.yc,j=g.c,i=g.Ca,k=h.c,m=h.Ca,n=g.N,p=g.ua,t=h.N,u=h.ua,s=f.B.x,w=f.B.y,C=f.G,D=0;D<C;++D){var F=f.J[D];b=g.g;d=F.Gc;var R=b.a.x*d.x+b.b.x*d.y,H=b.a.y*d.x+b.b.y*d.y;b=h.g;d=F.Hc;var da=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+da-(j.x+R))*s+(k.y+
b-(j.y+H))*w+F.Fa;c=Math.min(c,d);d=a*Math.max(-6,Math.min(d+0.15,0));d*=-F.Qd;var G=F.mc;F.mc=Math.max(G+d,0);d=F.mc-G;F=d*s;d*=w;j.x-=n*F;j.y-=n*d;i-=p*(R*d-H*F);g.g.q(i);k.x+=t*F;k.y+=t*d;m+=u*(da*d-b*F);h.g.q(m)}g.Ca=i;h.Ca=m}return-0.15<=c},mf:function(){for(var a=0;a<this.jb;++a)for(var c=this.Gb[a],b=c.Ne,d=0;d<c.G;++d){var e=b.J[d],f=c.J[d];e.P=f.P;e.U=f.U}}};function Pd(a,c,b){var d=0;this.Ra=this.kb=this.na=0;this.Na=Array(a);for(d=0;d<a;d++)this.Na[d]=r;this.Gd=Array(c);for(d=0;d<c;d++)this.Gd[d]=r;this.fc=Array(b);for(d=0;d<b;d++)this.fc[d]=r}
Pd.prototype.de=function(a,c){for(var b=0,d,b=0;b<this.na;++b)d=this.Na[b],0!=d.N&&(d.w.add(new T(a.gb*Jc(c,new T(d.N*d.dc.x,d.N*d.dc.y)).x,a.gb*Jc(c,new T(d.N*d.dc.x,d.N*d.dc.y)).y)),d.O+=a.gb*d.ua*d.Me,d.w.scale(d.Rf),d.O*=d.Nf,U(d.Md,d.c),d.Ke=d.Ca);var e=new Nd(this.Gd,this.kb);e.nf();for(b=0;b<this.Ra;++b)this.fc[b].pg();for(b=0;b<a.Bd;++b){e.fe();for(d=0;d<this.Ra;++d)this.fc[d].fe(a)}for(b=0;b<this.na;++b)d=this.Na[b],0!=d.N&&(d.c.x+=a.gb*d.w.x,d.c.y+=a.gb*d.w.y,d.Ca+=a.gb*d.O,d.g.q(d.Ca));
for(b=0;b<this.Ra;++b);if(Qd)for(Rd=0;Rd<a.Bd;++Rd){d=e.ee(0.2);for(var f=q,b=0;b<this.Ra;++b)var g=this.fc[b].ee(),f=f&&g;if(d&&f)break}e.mf();for(b=0;b<this.na;++b)if(d=this.Na[b],0!=d.N){d.g.q(d.Ca);e=d;e.Se.q(e.Ke);for(f=e.ab;f!=r;f=f.n)f.md(e.Md,e.Se,e.c,e.g);d.dc.q(0,0);d.Me=0}};var Rd=0;function Sd(){this.Pb=[];this.M=r;for(var a=0;64>a;a++)this.Pb[a]=r;this.position=new T(0,0);this.rotation=0;this.Jf=new T(0,0);this.je=this.Ae=this.ud=0;this.zf=q;this.Zf=this.Hf=v}function Td(a,c){for(var b=0;64>b;++b)if(a.Pb[b]==r){a.Pb[b]=c;break}};function Ud(){this.gb=r;this.Bd=0};function Vd(){}Vd.prototype={ce:function(){this.status|=Wd},Ye:function(){this.status&=~Wd},Zd:function(){return(this.status&Wd)==Wd},sf:function(){this.status|=Xd},Ze:function(){this.status&=~Xd},ff:function(){return(this.status&Xd)==Xd},rf:function(){this.status|=Yd},$d:function(){return(this.status&Yd)==Yd},fa:0,ga:0,next:0,status:0};Vd.prototype.ne=r;var Wd=1,Xd=2,Yd=4;function Zd(){this.ga=this.fa=0};function $d(){var a=0;this.nb=Array(8192);for(a=0;8192>a;++a)this.nb[a]=65535;this.T=Array(8192);for(a=0;8192>a;++a)this.T[a]=new Vd;this.va=Array(8192);for(a=0;8192>a;++a)this.va[a]=new Zd;for(a=0;8192>a;++a)this.T[a].fa=65535,this.T[a].ga=65535,this.T[a].M=r,this.T[a].status=0,this.T[a].next=a+1;this.T[8191].next=65535}
$d.prototype={ef:function(a,c){this.ta=a;this.Fd=c},fd:function(a,c){var b=this.Xe(a,c);b.Zd()==v&&(b.ce(),this.va[this.Za].fa=b.fa,this.va[this.Za].ga=b.ga,++this.Za);b.Ze()},hd:function(a,c){var b=ae(this,a,c);b!=r&&(b.Zd()==v&&(b.ce(),this.va[this.Za].fa=b.fa,this.va[this.Za].ga=b.ga,++this.Za),b.sf())},Xe:function(a,c){if(a>c)var b=a,a=c,c=b;var b=be(a,c)&8191,d=ce(this,a,c,b);if(d!=r)return d;var e=this.Qc,d=this.T[e];this.Qc=d.next;d.fa=a;d.ga=c;d.status=0;d.M=r;d.next=this.nb[b];this.nb[b]=
e;return d},of:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=be(a,c)&8191,e=this.nb[d],f=r;65535!=e;){if(this.T[e].fa==a&&this.T[e].ga==c)return b=e,f?f.next=this.T[e].next:this.nb[d]=this.T[e].next,d=this.T[b],e=d.M,d.next=this.Qc,d.fa=65535,d.ga=65535,d.M=r,d.status=0,this.Qc=b,e;f=this.T[e];e=f.next}return r},ta:r,Fd:r,Qc:0,va:r,Za:0,nb:r};function ae(a,c,b){if(c>b)var d=c,c=b,b=d;return ce(a,c,b,be(c,b)&8191)}
function ce(a,c,b,d){for(d=a.nb[d];65535!=d&&(a.T[d].fa==c&&a.T[d].ga==b)==v;)d=a.T[d].next;return 65535==d?r:a.T[d]}$d.prototype.Rb=function(){for(var a=0,c=0,b=this.ta.aa,d=[],a=0;a<this.Za;++a){var e=ae(this,this.va[a].fa,this.va[a].ga);e.Ye();var f=b[e.fa],g=b[e.ga];e.ff()?(e.$d()==q&&this.Fd.be(f.M,g.M,e.M),this.va[c].fa=e.fa,this.va[c].ga=e.ga,++c):e.$d()==v&&(e.ne=this.Fd.ae(f.M,g.M),d.push(e.ne),e.rf())}for(a=0;a<c;++a)this.of(this.va[a].fa,this.va[a].ga);this.Za=0;return d};
function be(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528),b=b^b>>12&1048575,b=b+(b<<2&4294967292),b=2057*(b^b>>4&268435455);return b^b>>16&65535};function de(){this.m=this.C=this.value=0}function ee(a,c){var b=a.value,d=a.C,e=a.m;a.value=c.value;a.C=c.C;a.m=c.m;c.value=b;c.C=d;c.m=e};function fe(){this.X=[0,0];this.ja=[0,0];this.timeStamp=this.pb=0;this.M=r}fe.prototype={tc:function(){return this.X[0]},kd:function(a){this.X[0]=a},Ub:function(){return 65535!=this.pb}};function ge(){this.Jc=[0,0];this.cd=[0,0]};function he(a,c){this.Ha=new $d;this.aa=Array(8192);this.za=Array(2048);this.gc=Array(1024);this.Kb=new T;var b=0;this.Ha.ef(this,c);this.$=a;for(b=this.ob=0;1024>b;b++)this.gc[b]=0;this.za=Array(2);for(b=0;2>b;b++){this.za[b]=Array(2048);for(var d=0;2048>d;d++)this.za[b][d]=new de}b=a.D.x;d=a.D.y;b-=a.A.x;d-=a.A.y;this.Kb.x=65535/b;this.Kb.y=65535/d;for(b=0;1023>b;++b)d=new fe,this.aa[b]=d,d.kd(b+1),d.timeStamp=0,d.pb=65535,d.M=r;d=new fe;this.aa[1023]=d;d.kd(65535);d.timeStamp=0;d.pb=65535;d.M=
r;this.Rc=0;this.ic=1;this.$a=0}function Zc(a,c){var b,d,e,f;b=c.A.x;d=c.A.y;b-=a.$.D.x;d-=a.$.D.y;e=a.$.A.x;f=a.$.A.y;e-=c.D.x;f-=c.D.y;b=Math.max(b,e);d=Math.max(d,f);return 0>Math.max(b,d)}
he.prototype.wb=function(a){for(var c=this.aa[a],b=2*this.ob,d=0;2>d;++d){for(var e=this.za[d],f=c.X[d],g=c.ja[d],h=e[f].value,j=e[g].value,i=[],k=0,m=g-f-1,n,p,k=0;k<m;k++)i[k]=new de,n=i[k],p=e[f+1+k],n.value=p.value,n.C=p.C,n.m=p.m;for(var m=i.length,t=f,k=0;k<m;k++)p=i[k],n=e[t+k],n.value=p.value,n.C=p.C,n.m=p.m;i=[];m=b-g-1;for(k=0;k<m;k++)i[k]=new de,n=i[k],p=e[g+1+k],n.value=p.value,n.C=p.C,n.m=p.m;m=i.length;t=g-1;for(k=0;k<m;k++)p=i[k],n=e[t+k],n.value=p.value,n.C=p.C,n.m=p.m;m=b-2;for(i=
f;i<m;++i)k=this.aa[e[i].C],0==(e[i].value&1)?k.X[d]=i:k.ja[d]=i;for(m=g-1;f<m;++f)e[f].m--;this.Vb([0],[0],h,j,e,b-2,d)}for(b=0;b<this.$a;++b)this.Ha.hd(a,this.gc[b]);this.Ha.Rb();this.$a=0;ie(this);c.M=r;c.pb=65535;c.X[0]=65535;c.X[1]=65535;c.ja[0]=65535;c.ja[1]=65535;c.kd(this.Rc);this.Rc=a;--this.ob};
function je(a,c,b,d){var e=d.A.x,f=d.A.y,e=Math.min(e,a.$.D.x),f=Math.min(f,a.$.D.y),e=Math.max(e,a.$.A.x),f=Math.max(f,a.$.A.y),g=d.D.x,d=d.D.y,g=Math.min(g,a.$.D.x),d=Math.min(d,a.$.D.y),g=Math.max(g,a.$.A.x),d=Math.max(d,a.$.A.y);c[0]=a.Kb.x*(e-a.$.A.x)&65534;b[0]=a.Kb.x*(g-a.$.A.x)&65535|1;c[1]=a.Kb.y*(f-a.$.A.y)&65534;b[1]=a.Kb.y*(d-a.$.A.y)&65535|1}function ke(a,c,b){for(var d=0;2>d;++d){var e=a.za[d];if(c.Jc[d]>e[b.ja[d]].value||c.cd[d]<e[b.X[d]].value)return v}return q}
he.prototype.Vb=function(a,c,b,d,e,f,g){b=le(e,f,b);d=le(e,f,d);for(f=b;f<d;++f)0==(e[f].value&1)&&me(this,e[f].C);if(0<b)for(var f=b-1,h=e[f].m;h;)0==(e[f].value&1)&&b<=this.aa[e[f].C].ja[g]&&(me(this,e[f].C),--h),--f;a[0]=b;c[0]=d};function me(a,c){var b=a.aa[c];b.timeStamp<a.ic?(b.timeStamp=a.ic,b.pb=1):(b.pb=2,a.gc[a.$a]=c,++a.$a)}function ie(a){if(65535==a.ic){for(var c=0;1024>c;++c)a.aa[c].timeStamp=0;a.ic=1}else++a.ic}
function bd(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(65535==c||1024<=c)&&b.Ub()!=v){var j=2*a.ob,i=a.aa[c],k=new ge;je(a,k.Jc,k.cd,b);for(var m=new ge,d=0;2>d;++d)m.Jc[d]=a.za[d][i.X[d]].value,m.cd[d]=a.za[d][i.ja[d]].value;for(d=0;2>d;++d){var n=a.za[d],p=i.X[d],t=i.ja[d],u=k.Jc[d],s=k.cd[d],w=u-n[p].value,C=s-n[t].value;n[p].value=u;n[t].value=s;if(0>w)for(e=p;0<e&&u<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.aa[f.C],f.m++,1==(f.value&1)==q?(ke(a,k,h)&&a.Ha.fd(c,g),h.ja[d]++,b.m++):(h.X[d]++,b.m--),i.X[d]--,
ee(b,f),--e;if(0<C)for(e=t;e<j-1&&n[e+1].value<=s;)b=n[e],g=n[e+1],f=g.C,h=a.aa[f],g.m++,0==(g.value&1)==q?(ke(a,k,h)&&a.Ha.fd(c,f),h.X[d]--,b.m++):(h.ja[d]--,b.m--),i.ja[d]++,ee(b,g),e++;if(0<w)for(e=p;e<j-1&&n[e+1].value<=u;)b=n[e],g=n[e+1],f=g.C,h=a.aa[f],g.m--,1==(g.value&1)?(ke(a,m,h)&&a.Ha.hd(c,f),h.ja[d]--,b.m--):(h.X[d]--,b.m++),i.X[d]++,ee(b,g),e++;if(0>C)for(e=t;0<e&&s<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.aa[g],f.m--,0==(f.value&1)==q?(ke(a,m,h)&&a.Ha.hd(c,g),h.X[d]++,b.m--):(h.ja[d]++,
b.m++),i.ja[d]--,ee(b,f),e--}}}he.prototype.Rb=function(){return this.Ha.Rb()};
function $c(a,c,b){var d=0,e,f=a.Rc;e=a.aa[f];a.Rc=e.tc();e.pb=0;e.M=b;b=2*a.ob;e=[];var g=[];je(a,e,g,c);for(c=0;2>c;++c){var h=a.za[c],j=0,i=0,j=[j],i=[i];a.Vb(j,i,e[c],g[c],h,b,c);for(var j=j[0],i=i[0],d=[],k=0,m=b-i,n,p,k=0;k<m;k++)d[k]=new de,n=d[k],p=h[i+k],n.value=p.value,n.C=p.C,n.m=p.m;for(var m=d.length,t=i+2,k=0;k<m;k++)p=d[k],n=h[t+k],n.value=p.value,n.C=p.C,n.m=p.m;d=[];m=i-j;for(k=0;k<m;k++)d[k]=new de,n=d[k],p=h[j+k],n.value=p.value,n.C=p.C,n.m=p.m;m=d.length;t=j+1;for(k=0;k<m;k++)p=
d[k],n=h[t+k],n.value=p.value,n.C=p.C,n.m=p.m;++i;h[j].value=e[c];h[j].C=f;h[i].value=g[c];h[i].C=f;h[j].m=0==j?0:h[j-1].m;h[i].m=h[i-1].m;for(d=j;d<i;++d)h[d].m++;for(d=j;d<b+2;++d)j=a.aa[h[d].C],0==(h[d].value&1)?j.X[c]=d:j.ja[c]=d}++a.ob;for(b=0;b<a.$a;++b)a.Ha.fd(f,a.gc[b]);a.Ha.Rb();a.$a=0;ie(a);return f}function le(a,c,b){for(var d=0,c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};new V;function ne(a,c,b){this.Vc=new Ud;this.lb=new Jd(this);this.Aa=this.I=this.Xa=this.He=r;this.Ra=this.kb=this.na=0;this.Lc=r;this.Mf=b;this.Jd=c;this.lb.F=this;this.ta=new he(a,this.lb);oe(this,new Sd);this.ze=[];this.Ue=v}function oe(a,c){var b=new fd(c,a);b.K=r;if(b.n=a.Xa)a.Xa.K=b;a.Xa=b;++a.na;return b}function pe(a,c){c.h&32||(c.K&&(c.K.n=c.n),c.n&&(c.n.K=c.K),c==a.Xa&&(a.Xa=c.n),c.h|=32,--a.na,c.K=r,c.n=a.Lc,a.Lc=c)}
function qe(a){a.lb.Id=q;for(var c=a.Lc;c;){for(var b=c,c=c.n,d=b.Aa;d;){var e=d,d=d.next,f=a,e=e.Fc,g=e.Pf;e.K&&(e.K.n=e.n);e.n&&(e.n.K=e.K);e==f.Aa&&(f.Aa=e.n);var h=e.Dg,j=e.Eg;jd(h);jd(j);e.l.prev&&(e.l.prev.next=e.l.next);e.l.next&&(e.l.next.prev=e.l.prev);e.l==h.Aa&&(h.Aa=e.l.next);e.l.prev=r;e.l.next=r;e.o.prev&&(e.o.prev.next=e.o.next);e.o.next&&(e.o.next.prev=e.o.prev);e.o==j.Aa&&(j.Aa=e.o.next);e.o.prev=r;e.o.next=r;--f.Ra;if(g==v)for(e=(h.hc<j.hc?h:j).ab;e;e=e.n)e.jd(f.ta)}for(d=b.I;d;)f=
d,d=d.next,Kd(a.lb,f.V);for(b=b.ab;b;)d=b,b=b.n,65535!=d.L&&d.j.F.ta.wb(d.L)}a.Lc=r;a.lb.Id=v}ne.prototype.Vb=function(a,c,b){var d=[],e=this.ta,f=[],g=[];je(e,f,g,a);var a=[0],h=[0];e.Vb(a,h,f[0],g[0],e.za[0],2*e.ob,0);e.Vb(a,h,f[1],g[1],e.za[1],2*e.ob,1);for(g=f=0;g<e.$a&&f<b;++g,++f)d[g]=e.aa[e.gc[g]].M;e.$a=0;ie(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var Qd=1,Od=1;var re=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function se(a){return 1==a.length?"0"+a:a};function W(a,c){if(a instanceof W)this.ka=a.toArray();else{var b;if(b=la(a))a:{for(var d=b=0;d<a.length;d++){if(!la(a[d])||0<b&&a[d].length!=b){b=v;break a}for(var e=0;e<a[d].length;e++)if(!ma(a[d][e])){b=v;break a}0==b&&(b=a[d].length)}b=0!=b}b?this.ka=xb(a):a instanceof Tb?this.ka=te(a.height,a.width):ma(a)&&ma(c)&&0<a&&0<c?this.ka=te(a,c):l(Error("Invalid argument(s) for Matrix contructor"))}this.ba=new Tb(this.ka[0].length,this.ka.length)}
function ue(a,c,b){for(var d=0;d<a.ba.height;d++)for(var e=0;e<a.ba.width;e++)c.call(b,a.ka[d][e],d,e,a)}function ve(a,c){var b=new W(a.ba);ue(a,function(d,e,f){b.ka[e][f]=c.call(o,d,e,f,a)});return b}function te(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}x=W.prototype;x.add=function(a){Ub(this.ba,a.ba)||l(Error("Matrix summation is only supported on arrays of equal size"));return ve(this,function(c,b,d){return c+a.ka[b][d]})};
x.multiply=function(a){if(a instanceof W)return this.ba.width!=a.ba.height&&l(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),we(this,a);if(ma(a))return xe(this,a);l(Error("A matrix can only be multiplied by a number or another matrix."))};x.pc=function(a){Ub(this.ba,a.ba)||l(Error("Matrix subtraction is only supported on arrays of equal size."));return ve(this,function(c,b,d){return c-a.ka[b][d]})};x.toArray=ba("ka");
x.toString=function(){var a=0;ue(this,function(b){b=(""+b).length;b>a&&(a=b)});var c=[];L(this.ka,function(b){c.push("[ ");L(b,function(b){b=""+b;c.push(Array(a-b.length+1).join(" ")+b+" ")});c.push("]\n")});return c.join("")};function ye(a,c,b){return 0<=c&&c<a.ba.height&&0<=b&&b<a.ba.width}
function we(a,c){var b=new W(a.ba.height,c.ba.width);ue(b,function(a,e,f){for(var g=a=0;g<this.ba.width;g++)a+=(!ye(this,e,g)?0:this.ka[e][g])*(!ye(c,g,f)?0:c.ka[g][f]);ye(b,e,f)||l(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.ba.height+","+b.ba.width+")"));b.ka[e][f]=a},a);return b}function xe(a,c){return ve(a,function(a){return a*c})};function ze(a,c,b,d){this.Vd=a;this.Xd=c;this.Wd=b;this.Yd=d};function Ae(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Ae.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function Be(a,c){z("display")?Ce(a,c,"display"):B("display",wa(Ce,a))}function Ce(a,c,b){a.style[Ia(b)]=c};function De(a){(y.requestAnimationFrame||y.webkitRequestAnimationFrame||y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(a){y.setTimeout(a,17)})(a)};function Ee(a,c,b){this.Xf=a;this.Be=c.Ua();this.Uf=b.Ua();this.Mb=0}Ee.prototype.step=function(){this.Mb++;return this.Mb};var X;function Fe(){if(X){for(var a=X,c;c=a.firstChild;)a.removeChild(c);Be(X,"none")}}function Ge(a){X&&(Be(X,"block"),a=Zb("div",r,Ca(a.Qe)),X.appendChild(a))};function He(){this.vc=this.rd=0;this.zb=[];this.Wb=0;this.se=NaN};function Ie(a,c){N.call(this,"eightball.PocketDropEvent.TYPE",c);this.vd=a}A(Ie,N);function Je(a,c,b){this.mb=this.Ib=this.Ya=r;this.Wc=0;this.Hb=q;this.Cb=this.Ka=r;this.Mc=0;this.Nc=0.12;this.da=-1;this.od=v;this.p={};this.Ee=new He;this.Pc=[];var d=this,e=rc();this.qd=this.pd=v;this.nd=q;this.cc=new Image;this.cc.onload=function(){Ke(d)};this.cc.src=b.cue;this.Ce=new Image;this.Ce.src=b.ballvignette;this.Ed=new Image;this.Ed.src=b.ball_numbers;this.Oa=a;this.Qa=c;this.r=this.Oa.getContext("2d");this.S=this.Qa.getContext("2d");this.Oa.setAttribute("width",832);this.Oa.setAttribute("height",
424);this.Pa=new T(416,212);Le(this);this.r.translate(this.Pa.x,this.Pa.y);this.ec=v;$(this.Qa).mousedown(function(){d.Ya&&d.p[0]&&(d.ec=q,d.Ib=d.Ya,d.mb=new ze(d.p[0].c.x,d.p[0].c.y,d.Ib.x,d.Ib.y),d.dispatchEvent(new N(Me,d)))});$(this.Qa).mouseup(function(){d.ec=v;if(d.Hb&&0.01<d.Wc){Ne(d);if(d.mb&&d.p[0]){var a=new T(d.mb.Wd-d.mb.Vd,d.mb.Yd-d.mb.Xd);Ic(a);a.scale(800*d.Wc+100);d.dispatchEvent(new Dc(Fc(a),"CUESTICK",-1,-1,d));d.qd=q;U(d.p[0].w,a);jd(d.p[0])}Ke(d);d.dispatchEvent(new N(Oe,d))}});
$(this.Qa).mousemove(function(a){if(d.Hb){var a=new S(a.pageX,a.pageY),b=new S($(d.Oa).offset().left,$(d.Oa).offset().top),a=a.pc(b);d.Ya=a.pc(d.Pa);if(d.ec){var a=new ze(d.Ib.x,d.Ib.y,d.Ya.x,d.Ya.y),b=a.Wd-a.Vd,c=a.Yd-a.Xd,b=Math.min(Math.sqrt(b*b+c*c),175),c=Pe(d.mb),a=Pe(a);d.Wc=0==b?0:b/175;Fe();e.info("Allowed Angle Range: "+Math.round(c-90)+" to "+Math.round(c+90));e.info("Strike Angle: "+Math.round(a));e.info("Strike Power: "+d.Wc);Ke(d,d.Ib,b)}else Ke(d,d.Ya,0)}});$(this.Qa).mouseleave(function(){d.Ya=
r;d.ec=v});Qe(this)}A(Je,Q);Je.prototype.nc=function(){Qe(this)};Je.prototype.pause=function(){this.he=q};function Re(a){return La(a.p,function(a,b){return 0>=b})}function Ne(a){var c=new sc(50);P(c,uc,function(){Be(this.Qa,"none");c.Va()},o,a);c.start();a.Hb=v}function Se(a){Be(a.Qa,"block");a.Hb=q;Te(a);Ke(a,a.Ya,0)}
function Ke(a,c,b){if(a.cc!=r&&a.cc.complete&&(a.S.setTransform(1,0,0,1,0,0),a.S.clearRect(0,0,a.Qa.width,a.Qa.height),a.Ka=r,a.Hb&&c&&a.p[0])){var d=Ue(a,a.p[0].c.x,a.p[0].c.y),e=Math.round(d.x),d=Math.round(d.y),f=c.x-a.p[0].c.x,g=a.p[0].c.y-c.y,h=-1*Math.atan2(g,f)+Math.PI,g=Math.sqrt(Math.pow(Math.abs(a.p[0].c.x-c.x),2)+Math.pow(g,2))/5,f=f/g,c=(c.y-a.p[0].c.y)/g;a.S.lineWidth=2;a.S.fillStyle=a.ec?a.S.strokeStyle=Ve:a.S.strokeStyle=We;var j,i,k,m;if(a.Cb==r){var n=Ue(a,0,0);a.Cb=new Ae(n.y-180,
n.x+380,n.y+180,n.x-380)}a.S.beginPath();for(n=4;n<g;n++){k=e+f*n;m=d+c*n;if(0==n%2){for(var p=1;15>p;p++)if(p in a.p&&(j=Ue(a,a.p[p].c.x,a.p[p].c.y),j=Math.sqrt(Math.pow(j.x-k,2)+Math.pow(j.y-m,2)),24>=j)){i=q;break}if(!i&&(k<a.Cb.left||k>a.Cb.right||m<a.Cb.top||m>a.Cb.bottom))i=q;if(i)break;else a.S.moveTo(k,m)}else a.S.lineTo(k,m);a.S.stroke()}4<g&&(a.S.beginPath(),a.S.arc(k,m,4,0,2*Math.PI,v),a.S.fill());a.S.translate(e,d);a.S.rotate(h);a.S.drawImage(a.cc,7+b,-15)}}
function Ue(a,c,b){a.Ka==r&&(a.Ka=new S($(a.Oa).offset().left,$(a.Oa).offset().top),a.Ka.x+=a.Oa.width/2,a.Ka.y+=a.Oa.height/2);return{x:a.Ka.x+c,y:a.Ka.y+b}}function Pe(a){a=-180*Math.atan2(a.Yd-a.Xd,a.Vd-a.Wd)/Math.PI;0>a&&(a=360- -1*a);return a}
function Le(a){var c=new Vc;c.A.q(-1E3,-1E3);c.D.q(1E3,1E3);a.F=new ne(c,new T(0,0),q);var c=a.F,b=a.Pa,d=new Sd;d.Ob=1;d.Bb=1;var e,f;e=new Pc;f=[[-b.x,-b.y+25],[-b.x+20,-b.y+45],[-b.x+20,b.y-45],[-b.x,b.y-25]];Qc(e,f);Td(d,e);e=new Pc;f=(new W(f)).multiply(Xe).toArray().reverse();Qc(e,f);Td(d,e);f=[[-b.x+23,-b.y],[-b.x+45,-b.y+20],[-23,-b.y+20],[-15,-b.y]].reverse();e=new Pc;Qc(e,f);Td(d,e);e=new Pc;f=(new W(f)).multiply(Xe).toArray().reverse();Qc(e,f);Td(d,e);e=new Pc;f=(new W(f)).multiply(Ye).toArray();
Qc(e,f);Td(d,e);e=new Pc;f=(new W(f)).multiply(Xe).toArray().reverse();Qc(e,f);Td(d,e);d.M=[Ze];oe(c,d);c=a.F;b=a.Pa;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=$e(c,e[0][0],e[0][1]);e=(new W(e)).multiply(Xe).toArray();d[1]=$e(c,e[0][0],e[0][1]);e=(new W(e)).multiply(Ye).toArray();d[2]=$e(c,e[0][0],e[0][1]);e=(new W(e)).multiply(Xe).toArray();d[3]=$e(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=$e(c,e[0][0],e[0][1]);e=(new W(e)).multiply(Ye).toArray();d[5]=$e(c,e[0][0],e[0][1]);af(a)}
function af(a){a.pd=q;bf(a);Te(a);for(var c=1,b=0;5>b;b++)for(var d=b+1,e=198+14*b*Math.sqrt(3),f=14*-b,g=0;g<d;g++)a.p[c]=cf(a,c,e,f+28*g),c++}function Te(a){a.p[0]||(a.p[0]=cf(a,0,-198,0))}function bf(a){B(a.p,function(a){pe(this.F,a)},a);Na(a.p);tb(a.Pc);qe(a.F)}function cf(a,c,b,d){var e=new dd;e.zc=5;e.rb=14;e.Ob=0.95;e.Bb=0.2;var f=new Sd;Td(f,e);f.position.q(b,d);f.Ae=0.018;f.je=0.12;f.M=[df,c,new T(14,14),new S(14,14)];return oe(a.F,f)}
function ef(a){var c=a.p[a.da];B(a.p,function(a){a.w.add(new T(a.c.x-c.c.x,a.c.y-c.c.y));jd(a)},a);Ne(a);ff(a,a.da)}function gf(a,c){ja(c)&&(a.nd=Boolean(c));return a.nd}function hf(a,c){ja(c)&&(a.F.Jd=c?Ec().scale(100):new T,B(a.p,function(a){jd(a)}));return 0==Fc(a.F.Jd)}
Je.prototype.wf=function(){this.ie=v;this.he||Qe(this);var a=this.Ee,c=xa();if(0<a.rd){var b=c-a.rd,b=b/1E3;100>a.zb.length?a.zb.push(b):(a.vc=(a.vc+1)%a.zb.length,a.Wb-=a.zb[a.vc],a.zb[a.vc]=b);a.Wb+=b;a.se=a.zb.length/a.Wb}a.rd=c;var a=this.F,c=1/30,d,e;a.Vc.gb=c;a.Vc.Bd=1;a.Vc.Bg=0<c?1/c:0;a.Je=0;qe(a);for(var b=a.lb,f=b.F.I;f!=r;){var g=f,f=f.n;g.h&2&&Kd(b,g)}for(var h,b=a.lb.F.I;b!=r;b=b.n)if((b.t.j.h&id)!=id||(b.v.j.h&id)!=id)(f=b.pa,b.Sb(),g=b.pa,0==f&&0<g)?(f=b.t.j,g=b.v.j,h=b.l,d=b.o,h.V=
b,h.ea=g,h.prev=r,h.next=f.I,h.next!=r&&(h.next.prev=b.l),f.I=b.l,d.V=b,d.ea=f,d.prev=r,d.next=g.I,d.next!=r&&(d.next.prev=d),g.I=d):0<f&&0==g&&(f=b.t.j,g=b.v.j,h=b.l,d=b.o,h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),h==f.I&&(f.I=h.next),h.prev=r,h.next=r,d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),d==g.I&&(g.I=d.next),d.prev=r,d.next=r);b=new Pd(a.na,a.kb,a.Ra);for(d=a.Xa;d!=r;d=d.n)d.h&=-5;for(f=a.I;f!=r;f=f.n)f.h&=-2;for(f=a.Aa;f!=r;f=f.n)f.Fe=v;f=Array(a.na);for(g=
0;g<a.na;g++)f[g]=r;for(g=a.Xa;g!=r;g=g.n)if(!(g.h&(gd|4|id|kd))){h=b;h.na=0;h.kb=0;h=h.Ra=0;f[h++]=g;for(g.h|=4;0<h;)if(e=d=f[--h],b.Na[b.na++]=e,d.h&=~id,!(d.h&gd)){for(var j=d.I;j!=r;j=j.next)j.V.h&1||(e=j.V,b.Gd[b.kb++]=e,j.V.h|=1,e=j.ea,e.h&4||(f[h++]=e,e.h|=4));for(d=d.Aa;d!=r;d=d.next)d.Fc.Fe!=q&&(e=d.Fc,b.fc[b.Ra++]=e,d.Fc.Fe=q,e=d.ea,e.h&4||(f[h++]=e,e.h|=4))}b.de(a.Vc,a.Jd);a.Je=Math.max(a.Je,Rd);if(a.Mf){h=a;d=b;e=c;for(var j=0,i=o,k=Number.MAX_VALUE,m=Tc*Tc,j=0;j<d.na;++j)if(i=d.Na[j],
0!=i.N)(0==(i.h&hd)&&(k=i.Lb=0),0==(i.h&hd)||i.O*i.O>m||0.09<Gc(i.w,i.w))?k=i.Lb=0:(i.Lb+=e,k=Math.min(k,i.Lb));if(0.5<=k){for(j=0;j<d.na;++j)i=d.Na[j],i.h|=id;d=q}else d=v;h.Ue=d}for(h=0;h<b.na;++h)if(d=b.Na[h],d.h&gd&&(d.h&=-5),(d.h&kd)==kd&&a.He&&1==a.He.mg(d))pe(a,d),b.Na[h]=r}a.ze=a.ta.Rb();if(this.p[this.da]||!this.F.Ue)this.r.clearRect(-this.Pa.x,-this.Pa.y,2*this.Pa.x,2*this.Pa.y),jf(this),kf(this,this.F.ze),lf(this)};
function Qe(a){a.he=v;if(!a.ie){var c=va(a.wf,a);a.ie=q;a.nd?De(c):vc(c)}}
function kf(a,c){var b=0,d=0,e=-1,f=-1,g=0;L(c,function(c){var h=r,j=r;c.t.j.Da==mf?(h=c.t.j,j=c.v.j):c.v.j.Da==mf&&(h=c.v.j,j=c.t.j);if(h!=r){var n=j.Da[1];a.Pc.push(new Ee(n,j.c,h.c));ff(a,n);a.dispatchEvent(new Ie(n,a))}h=[c.t.j.Da[0],c.v.j.Da[0]];K.sort.call(h,zb);h[0]==df&&(e=c.t.j.Da[1],h[1]==df?(d++,f=c.v.j.Da[1],g+=Fc(c.t.j.w),g+=Fc(c.v.j.w)):h[1]==Ze&&(b++,g+=Fc(c.t.j.w),g+=Fc(c.v.j.w)))});var h=0<b||0<d?g/(2*(d+b)):0;if(0<d){var j="BALL";a.pd?(j="BREAK",a.pd=v):a.qd&&(j="CUEBALL",a.qd=v);
a.dispatchEvent(new Dc(h,j,e,f,a))}0<b&&a.dispatchEvent(new Dc(h,"WALL",e,f,a))}function ff(a,c){var b=a.p[c];ad(b);b.c.q(5E3,5E3);delete a.p[c]}
function jf(a){for(L(a.Pc,a.tf,a);vb(a.Pc,function(a){return 5<=a.Mb}););nf(a);B(a.p,function(a){var b=a.ab,d=a.Da[1],e=this.da==d;this.r.fillStyle=e?this.od?"rgba(237,218,193,0.5)":of:pf[d];this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,v);this.r.fill();if(0<d){var f=new S(0,0),g=new S(0,0);this.r.save();this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,q);this.r.clip();var h=a.Da[2];h.add(new T(0.03*a.w.x,0.03*a.w.y));var j=a.Da[3],i=b.e-h.x,k=b.e-h.y,m=Math.sqrt(Math.pow(i,2)+
Math.pow(k,2)),i=Math.atan2(k,i);m>3*b.e&&U(h,j);a=a.c.Ua();f.x=a.x+h.x-b.e;f.y=a.y+h.y-b.e;j.x=h.x+2.7*Math.sin(2.5*Math.PI-i)*b.e;j.y=h.y+2.7*Math.cos(2.5*Math.PI-i)*b.e;g.x=a.x+j.x-b.e;g.y=a.y+j.y-b.e;if(!e&&8<d){this.r.fillStyle=pf[0];var k=new S(0,0),n=new S(0,0),p=new S(0,0),t=new S(0,0);k.x=h.x+Math.sin(-0.7*Math.PI-i)*b.e+a.x-b.e;k.y=h.y+Math.cos(-0.7*Math.PI-i)*b.e+a.y-b.e;n.x=h.x+2*Math.sin(-0.7*Math.PI-i)*b.e+a.x-b.e;n.y=h.y+2*Math.cos(-0.7*Math.PI-i)*b.e+a.y-b.e;p.x=j.x+2*Math.sin(0.7*
Math.PI-i)*b.e+a.x-b.e;p.y=j.y+2*Math.cos(0.7*Math.PI-i)*b.e+a.y-b.e;t.x=j.x+Math.sin(0.7*Math.PI-i)*b.e+a.x-b.e;t.y=j.y+Math.cos(0.7*Math.PI-i)*b.e+a.y-b.e;this.r.beginPath();this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(p.x,p.y);this.r.lineTo(t.x,t.y);k.x=h.x+Math.sin(-0.3*Math.PI-i)*b.e+a.x-b.e;k.y=h.y+Math.cos(-0.3*Math.PI-i)*b.e+a.y-b.e;n.x=h.x+2*Math.sin(-0.3*Math.PI-i)*b.e+a.x-b.e;n.y=h.y+2*Math.cos(-0.3*Math.PI-i)*b.e+a.y-b.e;p.x=j.x+2*Math.sin(0.3*Math.PI-i)*b.e+a.x-b.e;p.y=
j.y+2*Math.cos(0.3*Math.PI-i)*b.e+a.y-b.e;t.x=j.x+Math.sin(0.3*Math.PI-i)*b.e+a.x-b.e;t.y=j.y+Math.cos(0.3*Math.PI-i)*b.e+a.y-b.e;this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(p.x,p.y);this.r.lineTo(t.x,t.y);this.r.fill()}d*=9;e&&(d=0);this.r.drawImage(this.Ed,0,d,9,9,f.x-4,f.y-4,9,9);m>b.e&&this.r.drawImage(this.Ed,0,d,9,9,g.x-4,g.y-4,9,9);this.r.restore()}this.r.drawImage(this.Ce,b.c.x-b.e-2,b.c.y-b.e-2)},a)}
Je.prototype.tf=function(a){a.step();if(!(5<=a.Mb)){var c=a.Uf.Ua();c.pc(a.Be);c.scale(a.Mb/5);c.add(a.Be);var b,d=pf[a.Xf],e;a:{var f=d.match(re);if(f&&(e=Number(f[1]),b=Number(f[2]),f=Number(f[3]),0<=e&&255>=e&&0<=b&&255>=b&&0<=f&&255>=f)){e=[e,b,f];break a}e=[]}e.length||l(Error(d+" is not a valid RGB color"));a=a.Mb/5;d=e;b=[0,0,0];e=Math.min(Math.max(a,0),1);b=[Math.round(e*b[0]+(1-e)*d[0]),Math.round(e*b[1]+(1-e)*d[1]),Math.round(e*b[2]+(1-e)*d[2])];d=this.r;f=b[0];e=b[1];b=b[2];f=Number(f);
e=Number(e);b=Number(b);(isNaN(f)||0>f||255<f||isNaN(e)||0>e||255<e||isNaN(b)||0>b||255<b)&&l(Error('"('+f+","+e+","+b+'") is not a valid RGB color'));f=se(f.toString(16));e=se(e.toString(16));b=se(b.toString(16));d.fillStyle="#"+f+e+b;this.r.beginPath();this.r.arc(c.x,c.y,14*(1-0.5*a),0,2*Math.PI,v);this.r.fill()}};
function nf(a){var c=a.p[a.da];if(c){c=c.ab;a.Mc+=a.Nc;var b=a.r.createRadialGradient(c.c.x,c.c.y,0,c.c.x,c.c.y,32);b.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.Mc))+")");b.addColorStop(0.8,"rgba(255,234,136,0.0)");a.r.fillStyle=b;a.r.beginPath();a.r.arc(c.c.x,c.c.y,32,0,2*Math.PI,v);a.r.fill()}}function qf(a,c){a.od=v;a.da=c;a.Mc=0;a.Nc=0.12}
function lf(a){var c=0,b=0,d=Ma(a.p);B(a.p,function(a){var d=Fc(a.w);0==d?(b++,c++):10>d?(hf(this)||U(a.w,new T),b++,c++):20>d&&c++},a);if(!a.Hb&&(b==d||c==d&&a.p[0]&&0==Fc(a.p[0].w)))a.dispatchEvent(new N(rf,a)),Se(a)}function $e(a,c,b){var d=new dd;d.rb=7;var e=new Sd;Td(e,d);e.position.q(c,b);e.M=[mf];return oe(a,e)}
var Ze="table",mf="pocket",df="ball",rf="cueStopped",Me="CUESTICK_HIT_START",Oe="CUESTICK_HIT_STOP",We="rgb(232,208,176)",of="rgb(40,37,29)",Ve="rgb(178,55,17)",pf={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)","0":We},Xe=new W([[-1,0],[0,1]]),Ye=new W([[-1,0],
[0,-1]]);function sf(a){var c;c="_gaq"in y?y._gaq:r;if(!c){var b=c=[];"_gaq"in y&&l(Error('The object already contains the key "_gaq"'));y._gaq=b}c.push(a)}function tf(a){var c=document.createElement("script");c.type="text/javascript";c.async=q;c.src=a;a=document.getElementsByTagName("head");1!=a.length&&l(Error("Couldn't find a single head tag."));var a=a[0],b=a.getElementsByTagName("script");0==b.length?a.appendChild(c):(a=b[0],a.parentNode&&a.parentNode.insertBefore(c,a))};function uf(a){this.bb=r;this.da=-1;this.sa=a;this.De=v;P(a,"eightball.PocketDropEvent.TYPE",this.vf,o,this);P(a,"BALL",this.sd,o,this);P(a,"CUEBALL",this.sd,o,this);P(a,"BREAK",this.sd,o,this);this.reset()}A(uf,Q);x=uf.prototype;x.reset=function(){this.bb&&(this.bb.Va(),this.ha=120);this.Xb=32;this.da=this.De?1:Math.floor(15*Math.random())+1;this.yb=this.wc=v;hf(this.sa,v);af(this.sa);this.sa.nc();qf(this.sa,-1);this.ha=120;Y(this,vf);this.sb=0;Y(this,wf);Y(this,xf);this.Ja=yf;Y(this,zf)};
x.start=function(){this.bb&&(this.bb.Va(),this.ha=120,Y(this,vf));this.bb=new sc(1E3);this.bb.start();P(this.bb,uc,this.xf,o,this);this.Ja=Af;Y(this,Bf)};x.pause=function(){this.Ja==Af&&(this.sa.pause(),this.Ja=Cf,Y(this,Df))};x.nc=function(){this.Ja==Cf&&(this.sa.nc(),this.Ja=Af,Y(this,Ef))};function Ff(a){return!a.wc&&a.da in a.sa.p?(a.wc=q,a.yb=q,qf(a.sa,a.da),Y(a,Gf),q):v}function Hf(a){return a.yb?(a.yb=v,a.da=-1,a.ha+=30,qf(a.sa,-1),Y(a,If),q):v}
function Jf(){var a=zc.get("h","0");return parseInt(a,10)}x.xf=function(){this.Ja==Af&&(this.ha--,this.yb&&(this.Xb--,Y(this,Kf),0>=this.Xb&&(this.ha-=30,10>this.ha&&(this.ha=10),Y(this,Lf),this.yb=v)),0>=this.ha&&(this.ha=0,Mf(this)),Y(this,vf))};function Mf(a){a.bb.stop();a.sa.pause();a.Ja=Nf;Y(a,Of)}function Y(a,c){a.dispatchEvent(new N(c,a));0<=sb(Pf,c)&&sf(["_trackEvent","game",c,o,o])}
x.vf=function(a){0!=a.vd&&(rc().info("Pocket drop: "+a.vd),this.sb+=100,Y(this,wf),this.sb>Jf()&&(Ac("h",this.sb),Y(this,xf)));this.wc&&a.vd==this.da&&Hf(this);Re(this.sa)&&Mf(this)};x.sd=function(a){!this.wc&&(0==a.ke&&a.le==this.da||0==a.le&&a.ke==this.da)&&Ff(this)};
var yf="ready",Af="started",Cf="paused",Nf="ended",zf="ready",Bf="start",Df="pause",Ef="resume",Of="end",vf="tick",wf="score",xf="highscore",Gf="bombactivated",Kf="bombtick",If="bombdeactivated",Lf="bombexploded",Pf=[Bf,Df,Ef,Of,Gf,If,Lf,{qg:zf,vg:Bf,ng:Df,rg:Ef,hg:Of,wg:vf,tg:wf,ig:xf,bg:Gf,eg:Kf,cg:If,dg:Lf}];var Qf={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",
93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};function Rf(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Sf(a){this.oc={};this.Ma={tb:[],time:0};this.Gf=Qa(Tf);this.Af=q;this.yf=this.Bf=v;this.Vf=q;this.La=a;P(this.La,"keydown",this.Bc,v,this);Va&&(I&&J("1.8"))&&P(this.La,"keyup",this.ue,v,this);cb&&!I&&(P(this.La,"keypress",this.ve,v,this),P(this.La,"keyup",this.we,v,this))}var Uf;A(Sf,Q);var Tf=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Vf={qf:"shortcut",pf:"shortcut_"};x=Sf.prototype;
x.$f=function(a,c){var b=Wf,d=this.oc,e=arguments;if(z(e[1])){for(var e=e[1],e=e.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),e=e.split(" "),f=[],g,h=0;g=e[h];h++){var j=g.split("+"),i;g=0;for(var k,m=0;k=j[m];m++){switch(k){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}i=k;if(!Uf){j={};k=o;for(k in Qf)j[Qf[k]]=k;Uf=j}i=Uf[i];break}f.push({keyCode:i,Pe:g})}e=f}else{f=e;h=1;ka(e[1])&&(f=e[1],h=0);for(e=[];h<f.length;h+=2)e.push({keyCode:f[h],
Pe:f[h+1]})}b(d,e,a)};x.la=function(){Sf.cb.la.call(this);this.oc={};Jb(this.La,"keydown",this.Bc,v,this);Va&&(I&&J("1.8"))&&Jb(this.La,"keyup",this.ue,v,this);cb&&!I&&(Jb(this.La,"keypress",this.ve,v,this),Jb(this.La,"keyup",this.we,v,this));this.La=r};x.ue=function(a){if(224==a.keyCode)this.Oe=q,vc(function(){this.Oe=v},400,this);else{var c=a.metaKey||this.Oe;if((67==a.keyCode||88==a.keyCode||86==a.keyCode)&&c)a.metaKey=c,this.Bc(a)}};
function Xf(a){return cb&&!I&&a.ctrlKey&&a.altKey&&!a.shiftKey}x.ve=function(a){32<a.keyCode&&Xf(a)&&(this.ye=q)};x.we=function(a){!this.ye&&Xf(a)&&this.Bc(a)};function Wf(a,c,b){var d=c.shift(),d=d.keyCode&255|d.Pe<<8,e=a[d];e&&(b&&(0==c.length||z(e)))&&l(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(e||(e=a[d]={}),Wf(e,c,b)):a[d]=b}function Yf(a,c,b,d){b=b||0;return(d=(d||a.oc)[c[b]])&&!z(d)&&1<c.length-b?Yf(a,c,b+1,d):d}
x.Bc=function(a){var c;c=a.keyCode;if(16==c||17==c||18==c)c=v;else{var b=a.target,d="TEXTAREA"==b.tagName||"INPUT"==b.tagName||"BUTTON"==b.tagName||"SELECT"==b.tagName,e=!d&&(b.isContentEditable||b.ownerDocument&&"on"==b.ownerDocument.designMode);c=!d&&!e||this.Gf[c]||this.yf?q:e?v:this.Vf&&(a.altKey||a.ctrlKey||a.metaKey)?q:"INPUT"==b.tagName&&("text"==b.type||"password"==b.type)?13==c:"INPUT"==b.tagName||"BUTTON"==b.tagName?32!=c:v}if(c)if("keydown"==a.type&&Xf(a))this.ye=v;else{c=(I?Rf(a.keyCode):
a.keyCode)&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;var f,g,b=xa();this.Ma.tb.length&&1500>=b-this.Ma.time?f=Yf(this,this.Ma.tb):this.Ma.tb.length=0;f=f?f[c]:this.oc[c];f||(f=this.oc[c],this.Ma.tb=[]);f&&z(f)?g=f:f?(this.Ma.tb.push(c),this.Ma.time=b,I&&a.preventDefault()):this.Ma.tb.length=0;g&&(this.Af&&a.preventDefault(),this.Bf&&a.stopPropagation(),c=a.target,f=this.dispatchEvent(new Zf(Vf.qf,g,c)),g=new Zf(Vf.pf+g,g,c),(f&=this.dispatchEvent(g))||a.preventDefault(),
this.Ma.tb.length=0)}};function Zf(a,c,b){N.call(this,a,b);this.identifier=c}A(Zf,N);function $f(){this.Le=new Sf(document);this.Tc=[];P(this.Le,"shortcut",va(this.uf,this))}A($f,Q);$f.prototype.add=function(a,c,b){this.Le.$f(this.Tc.length.toString(),a);this.Tc.push({keybinding:a,description:c,action:b})};$f.prototype.uf=function(a){var c=this.Tc[new Number(a.identifier)],b=c.action.call();a.stopPropagation();this.dispatchEvent(new ag(c.keybinding,b||c.description))};function ag(a,c){N.call(this,"KeyBindingEvent");this.If=a;this.description=c}A(ag,N);function bg(a,c,b){this.Dd=[];this.Tf=b;this.Oc=0;for(var d=document.getElementsByClassName("audio_"+a),e=0;e<d.length;e++)this.Dd.push(d[e]);for(d=d.length;d<b;d++)this.Dd.push(cg(a,c))}bg.prototype.play=function(){this.Oc++;this.Oc%=this.Tf;var a=this.Dd[this.Oc];$a&&(L(a.getElementsByTagName("source"),function(a){a.src=a.src}),a.load());a.play();return a};
function cg(a,c){var b=document.getElementById("_audios");if(b===o||b==r)b=document.createElement("div"),b.id="_audios",b.style.display="none",document.body.appendChild(b);var d=document.createElement("audio");d.className="audio_"+a;b.appendChild(d);for(var e in c)b=document.createElement("source"),b.src=c[e][0],b.type=c[e][1],d.appendChild(b);return d};function dg(a,c){this.qa=r;this.Ie=a;this.Sf=c;zc.get("m",o)==o&&eg(this)}A(dg,Q);function eg(a){fg(a);a.qa=cg(a.Ie,a.Sf);a.qa.setAttribute("loop","loop");a.qa.load();a.qa.play();Ac("m",o);a.dispatchEvent(new N("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}function gg(a){fg(a);Ac("m","0");a.dispatchEvent(new N("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}
function fg(a){a.qa&&(a.qa.pause(),a.qa.parentNode.removeChild(a.qa),a.qa=r);L(document.getElementsByClassName("audio_"+a.Ie),function(a){a.parentNode.removeChild(a)})};var hg={$e:".",cf:",",jf:"%",ge:"0",lf:"+",gf:"-",bf:"E",kf:"\u2030",df:"\u221e",hf:"NaN",gg:"#,##0.###",sg:"#E0",og:"#,##0%",fg:"\u00a4#,##0.00;(\u00a4#,##0.00)",af:"USD"},Z=hg,Z=hg;var ig={AED:[2,"dh","\u062f.\u0625.","DH"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[0,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[2,"K\u010d","K\u010d"],DKK:[18,"kr","kr"],DOP:[2,"$","RD$"],EGP:[2,"\u00a3","LE"],EUR:[18,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],ILS:[2,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],
KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],MNT:[0,"\u20ae","MN\u20ae"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[18,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","Php"],PKR:[0,"Rs","PKRs."],RUB:[2,"Rup","Rup"],SAR:[2,"Rial","Rial"],SEK:[2,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],USD:[2,"$","US$"],UYU:[2,"$","UY$"],VND:[0,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};function jg(){this.Ec=Z.af;this.Df=kg;this.Xc=40;this.Ea=1;this.Pd=3;this.Yc=this.kc=0;this.We=v;this.Td=this.Sd="";this.Zc="-";this.$c="";this.lc=1;this.zd=3;this.dd=this.pe=v;var a=[0];this.Sd=lg(this,a);for(var c=a[0],b=-1,d=0,e=0,f=0,g=-1,h=q;8>a[0]&&h;a[0]++)switch("#,###.##".charAt(a[0])){case "#":0<e?f++:d++;0<=g&&0>b&&g++;break;case "0":0<f&&l(Error('Unexpected "0" in pattern "#,###.##"'));e++;0<=g&&0>b&&g++;break;case ",":g=0;break;case ".":0<=b&&l(Error('Multiple decimal separators in pattern "#,###.##"'));
b=d+e+f;break;case "E":this.dd&&l(Error('Multiple exponential symbols in pattern "#,###.##"'));this.dd=q;this.Yc=0;8>a[0]+1&&"+"=="#,###.##".charAt(a[0]+1)&&(a[0]++,this.We=q);for(;8>a[0]+1&&"0"=="#,###.##".charAt(a[0]+1);)a[0]++,this.Yc++;(1>d+e||1>this.Yc)&&l(Error('Malformed exponential pattern "#,###.##"'));h=v;break;default:a[0]--,h=v}0==e&&(0<d&&0<=b)&&(e=b,0==e&&e++,f=d-e,d=e-1,e=1);(0>b&&0<f||0<=b&&(b<d||b>d+e)||0==g)&&l(Error('Malformed pattern "#,###.##"'));f=d+e+f;this.Pd=0<=b?f-b:0;0<=
b&&(this.kc=d+e-b,0>this.kc&&(this.kc=0));this.Ea=(0<=b?b:f)-d;this.dd&&(this.Xc=d+this.Ea,0==this.Pd&&0==this.Ea&&(this.Ea=1));this.zd=Math.max(0,g);this.pe=0==b||b==f;c=a[0]-c;this.Td=lg(this,a);8>a[0]&&"#,###.##".charAt(a[0])==mg?(a[0]++,this.Zc=lg(this,a),a[0]+=c,this.$c=lg(this,a)):(this.Zc=this.Sd+this.Zc,this.$c+=this.Td)}var kg=0;
function ng(a,c,b,d){var e=Math.pow(10,a.Pd),f=Math.round(c*e),g;isFinite(f)?(c=Math.floor(f/e),g=Math.floor(f-c*e)):g=0;for(var h=0<a.kc||0<g,j="",f=c;1.0E20<f;)j="0"+j,f=Math.round(f/10);var j=f+j,i=Z.$e,k=Z.cf,f=Z.ge.charCodeAt(0),m=j.length;if(0<c||0<b){for(c=m;c<b;c++)d.push(String.fromCharCode(f));for(c=0;c<m;c++)d.push(String.fromCharCode(f+1*j.charAt(c))),1<m-c&&(0<a.zd&&1==(m-c)%a.zd)&&d.push(k)}else h||d.push(String.fromCharCode(f));(a.pe||h)&&d.push(i);b=""+(g+e);for(e=b.length;"0"==b.charAt(e-
1)&&e>a.kc+1;)e--;for(c=1;c<e;c++)d.push(String.fromCharCode(f+1*b.charAt(c)))}function og(a,c,b){b.push(Z.bf);0>c?(c=-c,b.push(Z.gf)):a.We&&b.push(Z.lf);for(var c=""+c,d=Z.ge,e=c.length;e<a.Yc;e++)b.push(d);b.push(c)}var mg=";";
function lg(a,c){for(var b="",d=v;8>c[0];c[0]++){var e="#,###.##".charAt(c[0]);if("'"==e)8>c[0]+1&&"'"=="#,###.##".charAt(c[0]+1)?(c[0]++,b+="'"):d=!d;else if(d)b+=e;else switch(e){case "#":case "0":case ",":case ".":case mg:return b;case "\u00a4":if(8>c[0]+1&&"\u00a4"=="#,###.##".charAt(c[0]+1))c[0]++,b+=a.Ec;else switch(a.Df){case kg:b+=ig[a.Ec][1];break;case 2:var e=a.Ec,f=ig[e],b=b+(e==f[1]?e:e+" "+f[1]);break;case 1:b+=ig[a.Ec][2]}break;case "%":1!=a.lc&&l(Error("Too many percent/permill"));
a.lc=100;b+=Z.jf;break;case "\u2030":1!=a.lc&&l(Error("Too many percent/permill"));a.lc=1E3;b+=Z.kf;break;default:b+=e}}return b};function pg(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();"undefined"==typeof d&&l(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,h,j,i,k,m){if("%"==i)return"%";var n=b.shift();"undefined"==typeof n&&l(Error("[goog.string.format] Not enough arguments"));arguments[0]=n;return qg[i].apply(r,arguments)})}
var qg={s:function(a,c,b){return isNaN(b)||""==b||a.length>=b?a:a=-1<c.indexOf("-",0)?a+Array(b-a.length+1).join(" "):Array(b-a.length+1).join(" ")+a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=c.indexOf("+")?"+":0<=c.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=0<=c.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=c.indexOf("0",
0)?"0":" ")+d},d:function(a,c,b,d,e,f,g,h){return qg.f(parseInt(a,10),c,b,d,0,f,g,h)}};qg.i=qg.d;qg.u=qg.d;function rg(a){this.Nd={};this.Of=a}A(rg,Q);rg.prototype.add=function(a,c){this.Nd[a]=new bg(a,this.Of[a],c)};rg.prototype.play=function(a){if(sg())return this.Nd[a].play()};function sg(){return zc.get("s",o)==o}function tg(a){var c=sg()?"0":o;Ac("s",c);a.dispatchEvent(new N("eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE"))};function ug(){function a(){s.pause();g.fadeIn(400);i.fadeIn(400);(n=Boolean(e.qa))&&gg(e)}function c(){var a=$(window).width(),b=$(window).height();u.S.canvas.width=a;u.S.canvas.height=b;Ke(u)}function b(){sg()?$("#soundsbutton .on").fadeIn(200):$("#soundsbutton .on").fadeOut(200)}function d(){Boolean(e.qa)?$("#musicbutton .on").fadeIn(200):$("#musicbutton .on").fadeOut(200)}window.doStats&&(tf("http://www.google-analytics.com/ga.js"),sf(["_setAccount","UA-18513960-1"]),sf(["_trackPageview"]),y.sc_project=
6221324,y.sc_security="0296de03",y.sc_invisible=1,tf("http://www.statcounter.com/counter/counter_xhtml.js"));this.Kd=0;this.Ge=29;Va&&$("#timers .digit").css("line-height","62px");$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){d();b()});$("#gamecontrolsclick").show();$("#cue_canvas").show();var e=new dg("theme",preloadAssets.audios.theme);P(e,"eightball.Music.STATE_CHANGE_EVENT_TYPE",d);var f=new rg(preloadAssets.audios);
P(f,"eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE",b);f.add("activate",1);f.add("ball",5);f.add("bombtick",1);f.add("bombtickfast",1);f.add("bombtickslow",1);f.add("break",1);f.add("cuehit",1);f.add("cuestick",1);f.add("deactivate",1);f.add("explode",1);f.add("pocket",2);f.add("quietball",2);f.add("quietwall",2);f.add("typing",1);f.add("wall",3);var g=$("#overlay"),h=$("#start"),j=$("#startmessage"),i=$("#resume"),k=$("#gameover"),m=v,n=v,p=v,t=r,u=new Je($("canvas#demo_canvas")[0],$("canvas#cue_canvas")[0],
preloadAssets.images);this.sa=u;var s=new uf(u);this.Qf=s;P(s,vf,function(){m||vg(this,s.ha);Fe();if(this.Qf.Ja==Af){var a;a=new jg;var b=this.sa.Ee.se;if(isNaN(b))a=Z.hf;else{var c=[],d=b<0||b==0&&1/b<0;c.push(d?a.Zc:a.Sd);if(isFinite(b)){b=b*(d?-1:1)*a.lc;if(a.dd)if(b==0){ng(a,b,a.Ea,c);og(a,0,c)}else{var e=Math.floor(Math.log(b)/Math.log(10)),b=b/Math.pow(10,e),f=a.Ea;if(a.Xc>1&&a.Xc>a.Ea){for(;e%a.Xc!=0;){b=b*10;e--}f=1}else if(a.Ea<1){e++;b=b/10}else{e=e-(a.Ea-1);b=b*Math.pow(10,a.Ea-1)}ng(a,
b,f,c);og(a,e,c)}else ng(a,b,a.Ea,c)}else c.push(Z.df);c.push(d?a.$c:a.Td);a=c.join("")}rc().info("FPS: "+a)}},v,this);P(s,wf,function(){var a=s.sb;a==0&&(a="00");$("#score").html(a);$("#gameoverscore").html(a)});P(s,xf,function(){$("#bestscore").html(Jf())});P(s,zf,function(){g.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();$("#boom").hide();var a=0;h.delay(800).fadeIn(400,function(){if(!p){t=f.play("typing");var b=setInterval(function(){j.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,
a));a++;if(a>247){clearInterval(b);t&&t.pause()}},10)}})});P(s,Of,function(){g.fadeIn(500);k.fadeIn(400)});P(s,Gf,function(){$("#bombicon").fadeIn(200);$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);f.play("activate")});P(s,Kf,function(){var a=s.Xb%60;a>30&&(a=30);var b=Math.floor(a/10),c=a%10;$("#bombsecondstens").html(""+b);$("#bombsecondsones").html(""+c);a>19?f.play("bombtickslow"):a<=10?f.play("bombtickfast"):a>=1&&f.play("bombtick");if(a==19||a==10)u.Nc=u.Nc+0.12});P(s,
If,function(){f.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var a=this.Kd,b=setInterval(va(function(){if(a>=s.ha){clearInterval(b);m=v}else{a++;vg(this,a)}},this),50)},v,this);P(s,Lf,function(){f.play("explode");u.od=q;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var a;if(a=u.p[u.da]){var b=new Wb(396,192);a=a.c.Ua().add(b)}else a=r;if(a){ef(u);
$("#boom").css("left",a.x).css("top",a.y).show()}},1500);m=q;var a=this.Kd,b=setInterval(function(){if(a<s.ha){clearInterval(b);m=v}else a--},50)},v,this);P(u,Me,function(){$("#gamecontrolsclick").hide()});P(u,Oe,function(){$("#gamecontrolsclick").show()});P(u,"CUESTICK",function(){f.play("cuestick")});P(u,"BREAK",function(){f.play("break")});P(u,"CUEBALL",function(){f.play("cuehit")});P(u,"BALL",function(a){rc().info("velocity: "+a.rc);a.rc>80?f.play("ball"):a.rc>20&&f.play("quietball")});P(u,"WALL",
function(a){a.rc>120?f.play("wall"):a.rc>40&&f.play("quietwall")});P(u,"eightball.PocketDropEvent.TYPE",function(){f.play("pocket")});s.reset();$(window).resize(c);c();var w=new $f;P(w,"KeyBindingEvent",function(a){$("#alert-div-holder").stop(q,q).show();if(a.If=="h"){var a=w.Tc,b=$("<table>");L(a,function(a){var c=$("<tr>");c.append($("<td>"+a.keybinding+"</td>"));c.append($("<td>"+a.description+"</td>"));b.append(c)});$("#alert-div").html("").append(b);$("#alert-div-holder").delay(4E3).fadeOut(500)}else{$("#alert-div").text(a.description);
$("#alert-div-holder").delay(2E3).fadeOut(500)}});w.add("a","Activate bomb",function(){return Ff(s)?"Bomb activated":"No-op"});w.add("b","Bomb demo mode",function(){s.De=q;s.reset()});w.add("d","Deactivate bomb",function(){return Hf(s)?"Bomb deactivated":"No-op"});w.add("e","End game early",function(){if(s.Ja==Af)s.ha=2});w.add("f","No Gravity",function(){hf(u,v)});w.add("g","Gravity",function(){hf(u,q)});w.add("h","Help",ha);w.add("i","Toggle framerate throttling",function(){if(gf(u)){gf(u,v);return"Framerate: floating"}gf(u,
q);return"Framerate: fixed"});w.add("l","Toggle debug log",function(){var a;if(X){if(X){(a=X)&&a.parentNode&&a.parentNode.removeChild(a);X=r;(a=rc().Db)&&ub(a,Ge)}a=v}else{if(!X){a=X=Zb("div",{id:"_debugLogDiv",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:monospace; border:solid 1px black; z-index:9999;"});document.body.appendChild(a);a=rc();if(!a.Db)a.Db=[];a.Db.push(Ge)}a=q}return a?
"Logger on":"Logger off"});w.add("m","Toggle music",function(){Boolean(e.qa)?gg(e):eg(e);return"Game music is now "+(Boolean(e.qa)?"on":"off")});w.add("o","Play random sound effect",function(){var a=f.Nd,b=[],c=0,d;for(d in a)b[c++]=d;a=Math.floor(Math.random()*b.length);f.play(b[a]);return"Playing "+b[a]});w.add("p","Pause game",a);w.add("r","Restart game",function(){s.reset()});w.add("s","Toggle sound",function(){tg(f);return"Game sounds are now "+(sg()?"on":"off")});w.add("x","Detonate bomb",function(){var a;
if(s.yb){s.Xb=Math.min(2,s.Xb);a=q}else a=v;return a?"Bomb detonated":"No-op"});k.click(function(){k.fadeOut(400);s.reset()});$("#startoverclick").click(function(){s.reset()});h.click(function(){h.fadeOut(100);g.fadeOut(400);s.start();p=q;t&&t.pause();j.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});
$("#pauseclick").click(a);i.click(function(){g.fadeOut(400);i.fadeOut(400,function(){s.nc()});n&&eg(e)});$("#gameoverfacebook").click(function(a){a.stopPropagation();window.open(wg(s.sb))});$("#gameovertwitter").click(function(a){a.stopPropagation();window.open(xg(s.sb))});$("#instructionsclick").click(function(){s.pause();g.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").hide()});$("#howtoplay").click(function(){s.nc();g.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").show()});
$("#musicbuttonclick").click(function(){Boolean(e.qa)?gg(e):eg(e)});$("#soundsbuttonclick").click(function(){tg(f)});yg()}function vg(a,c){a.Kd=c;var b=Math.floor(c/60),d=c%60,e=Math.floor(d/10),d=d%10;$("#minutesremaining").html(b.toString());$("#secondsremainingtens").html(e.toString());$("#secondsremainingones").html(d.toString());b=1+Math.floor((c-1)/4);b!=a.Ge&&(a.Ge=b,$("#progress").width(Math.min(7*b,210)))}
function wg(a){a=pg("I just scored %d points on Agent 008 Ball!",a);return pg("http://www.facebook.com/sharer.php?u=%s&t=%s",escape("http://agent8ball.com"),escape(a))}function xg(a){a=pg("Hey @agent8ball! I just scored %d points on %s. Beat that!",a,"http://agent8ball.com");return pg("http://twitter.com/home?status=%s",escape(a))}
function yg(){if(cb){var a="Hey there! ",c=v,b=-1!=navigator.userAgent.indexOf("Windows NT 6"),d=v,e=v,f=v,g=v,h=v,j=v,i=0,k;if(k=/MSIE (\d+\.\d+)/.exec(navigator.userAgent))e=q,i=parseFloat(k[1]);else if(k=/Firefox\/(\d+\.\d+)/.exec(navigator.userAgent))j=q,i=parseFloat(k[1]);else if(k=/Chrome\/(\d+\.\d+)/.exec(navigator.userAgent))f=q,i=parseFloat(k[1]);else if(k=/Opera.*Version\/(\d+\.\d+)/.exec(navigator.userAgent))g=q,i=parseFloat(k[1]);else if(k=/Version\/(\d+\.\d+).*Safari/.exec(navigator.userAgent))h=
q,i=parseFloat(k[1]);e&&9<=i&&(c=d=q);f&&7<=i&&(c=q);g&&10<=i&&(c=q);h&&5<=i&&(c=q);j&&4<=i&&(c=q);if(b)if(e&&!d)a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!';else{if(d)return;!e&&!c?a+='Looks like you\'re using an older browser. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> to get the best experience playing the game!':
!e&&c&&(a+='If you like Agent 008 Ball now, you\'ll love it with the blazing fast graphics in <a target="_blank" target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a>. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!')}else e&&!d?a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!':!e&&!c?a+='Looks like you\'re using an older browser. You should check out <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7.':
!e&&c&&(a+='Agent 008 Ball works best with <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');$("body #browsermessage").html(a);$("#bottombar").delay(1E3).fadeIn(500);$("#bottombar-close").click(function(){$("#bottombar").fadeOut(500)})}};$(document).ready(function(){$("body").each(function(){this.onselectstart=ca(v);this.unselectable="on"});var a=new ec(preloadAssets.images);$("#loadingbg").delay(500).fadeIn(700);B(preloadAssets.audios,function(a,b){cg(b,a)});a.load(function(a){$("#loadingpg").width(237*a)},function(){$("#loadingbg").delay(500).fadeOut(700,function(){new ug})})});
